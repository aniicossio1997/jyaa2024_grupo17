import{a as ee}from"./chunk-HV4W3RVE.js";import{a as Yt}from"./chunk-5M73CAGP.js";import{a as Bt,b as Qt,c as Lt,d as Zt,e as Jt,g as Wt}from"./chunk-WI44UCS5.js";import{a as $e,b as yt,c as Ft,d as It}from"./chunk-F3UMLMNG.js";import{a as Et}from"./chunk-WOC7MWNQ.js";import{a as b}from"./chunk-YSM7HIWG.js";import{a as Ce,b as N}from"./chunk-47TK7PFT.js";import{a as Ue,b as Xt}from"./chunk-BZDX7QXS.js";import{a as Qe,b as Rt}from"./chunk-R65F2ROU.js";import{a as Be,b as wt}from"./chunk-AZKQCPMW.js";import{a as ve}from"./chunk-WBNJTG47.js";import{A as H,B as zt,b as qe,c as Nt,i as U,j as kt,l as Le,m as $t,n as _e,o as ye,p as be,q as Vt,r as te,s as jt,t as At,u as Gt,v as Oe,w as qt,x as Ot,y as Ut,z as Ht}from"./chunk-IJ6BS5SH.js";import{a as Ae,b as Mt,e as Y,f as K,g as Ge,h as he,j as Pt,m as Dt}from"./chunk-AUGZRSW5.js";import{$ as u,E as x,F as ht,G as ke,H as M,I as _t,K as X,L as y,N as A,O as G,T as B,U as Q,W as q,Y as L,Z as bt,_ as Ye,a as we,ca as O,ea as w,fa as Ct,ha as St,ia as Ve,ja as je,la as xt,m as Re,pa as R,q as Ne,qa as Tt,v as ge}from"./chunk-QZ7GV5CC.js";import{$ as F,$b as k,A as at,Db as de,Eb as ce,Fb as ue,Gb as Z,Hb as s,Ib as D,Jb as _,Kb as Ee,Kc as pt,Lc as dt,Mc as ct,Nc as ut,Oa as l,Oc as ft,Pa as f,Pb as I,R as Pe,Rb as J,Rc as fe,S as nt,Sb as mt,Sc as gt,Tc as vt,W as ae,_b as T,aa as lt,ac as st,eb as P,fb as ne,gb as p,ia as $,ja as V,lb as le,mb as me,n as ot,nb as se,ob as pe,pb as o,qb as r,r as ie,rb as g,sb as De,tb as Te,vb as j,xb as v,yb as c}from"./chunk-FI3UJX5Y.js";var Ke=function(e){return e.nombre="nombre",e.unidadMedida="unidadMedida",e.descripcion="descripcion",e}(Ke||{}),Kt=(()=>{let n=class n{constructor(i,a,t,d){this.fb=i,this.router=a,this.materiaPrimaService=t,this.activatedRouter=d,this.unidadMedidaArray=Object.keys(Ce),this.myForm=this.fb.group({nombre:["",y.required],unidadMedida:["",y.required],descripcion:[""]})}ngOnInit(){let i=Number(this.activatedRouter.snapshot.paramMap.get("id"));i&&this.materiaPrimaService.getById(i).subscribe(a=>{this.materiaPrima=a,this.myForm.get("nombre").setValue(a.nombre),this.myForm.get("descripcion").setValue(a.descripcion),this.myForm.get(Ke.unidadMedida).setValue(a.unidadMedida),this.myForm.get("nombre").markAsTouched(),this.myForm.get("descripcion").markAsTouched(),this.myForm.updateValueAndValidity()})}cancel(){this.router.navigate(["/"+u.MateriaPrima])}save(){if(this.myForm.valid){let i={nombre:this.myForm.get("nombre").value,descripcion:this.myForm.get("descripcion").value,unidadMedida:this.myForm.get(Ke.unidadMedida).value};this.materiaPrimaService.put(this.materiaPrima.id,i).subscribe(a=>{a&&this.router.navigate([`/${u.MateriaPrima}/${u.Gestion}/`,this.materiaPrima.id])})}}};n.\u0275fac=function(a){return new(a||n)(f(L),f(w),f(b),f(O))},n.\u0275cmp=F({type:n,selectors:[["app-materia-edit"]],features:[I([b])],decls:22,vars:9,consts:[[1,"card",2,"width","80%"],[1,"mb-5"],[1,"p-fluid","p-formgrid","grid",3,"formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","firstname2"],["pInputText","","id","firstname2","type","text","formControlName","nombre","placeholder","Nombre","appCustomInputError","",3,"valueForm","errors"],["customLabel","",3,"valueForm","errors"],["htmlFor","unidadMedida"],["placeholder","Selecciona una unidad de medida","formControlName","unidadMedida","optionValue","",3,"options","autoDisplayFirst"],["htmlFor","descripcionid"],["formControlName","descripcion","rows","5","cols","30","pInputTextarea","","placeholder","Descripci\xF3n",3,"autoResize"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Volver","icon","pi pi-times","severity","secondary",3,"click"],["pRipple","","label","Guardar","icon","pi pi-check",3,"onClick","disabled"]],template:function(a,t){if(a&1&&(o(0,"div",0)(1,"h5",1),s(2,"Editar materia prima"),r(),o(3,"form",2)(4,"div",3)(5,"label",4),s(6,"Nombre *"),r(),g(7,"input",5)(8,"span",6),r(),o(9,"div",3)(10,"label",7),s(11,"Unidad de medida *"),r(),g(12,"p-dropdown",8),r(),o(13,"div",3)(14,"label",9),s(15,"Descripci\xF3n"),r(),o(16,"textarea",10),s(17,"      "),r()(),o(18,"div",11)(19,"div",12)(20,"p-button",13),v("click",function(){return t.cancel()}),r(),o(21,"p-button",14),v("onClick",function(){return t.save()}),r()()()()()),a&2){let d,h,C,S;l(3),p("formGroup",t.myForm),l(4),p("valueForm",(d=t.myForm.get("nombre"))==null?null:d.value)("errors",(h=t.myForm.get("nombre"))==null?null:h.errors),l(),p("valueForm",(C=t.myForm.get("nombre"))==null?null:C.value)("errors",(S=t.myForm.get("nombre"))==null?null:S.errors),l(4),p("options",t.unidadMedidaArray)("autoDisplayFirst",!1),l(4),p("autoResize",!0),l(5),p("disabled",t.myForm.invalid)}},dependencies:[M,R,te,B,X,A,G,Q,q,U,x,Y,K]});let e=n;return e})();var di=["dt"],ci=()=>["nombre"],ui=()=>({"min-width":"auto"}),fi=e=>[e];function gi(e,n){if(e&1){let m=j();o(0,"h2",9),s(1,"Materias Primas"),r(),o(2,"div",10)(3,"span",11),g(4,"i",12),o(5,"input",13),v("input",function(a){$(m),c();let t=Z(2);return V(t.filterGlobal(a.target.value,"contains"))}),r()(),g(6,"p-button",14),r()}if(e&2){let m=c();l(6),p("routerLink",mt(1,fi,"/"+m.RoutestEnum.MateriaPrima+"/"+m.RoutestEnum.New))}}function vi(e,n){if(e&1&&(o(0,"th",17),s(1),g(2,"p-sortIcon",18),r()),e&2){let m=n.$implicit;p("pSortableColumn",m.field),l(),_(" ",m.header," "),l(),p("field",m.field)}}function hi(e,n){if(e&1&&(o(0,"tr")(1,"th",15),s(2," Acciones "),r(),P(3,vi,3,3,"th",16),r()),e&2){let m=c();l(3),p("ngForOf",m.cols)}}function _i(e,n){if(e&1&&(De(0),s(1),T(2,"titlecase"),Te()),e&2){let m=c().$implicit,i=c().$implicit;l(),_(" ",k(2,1,i[m.field])," ")}}function yi(e,n){if(e&1&&(De(0),s(1),T(2,"priceTransform"),Te()),e&2){let m=c().$implicit,i=c().$implicit;l(),_(" ",k(2,1,i[m.field])," ")}}function bi(e,n){if(e&1&&(De(0),s(1),Te()),e&2){let m=c().$implicit,i=c().$implicit;l(),_(" ",i[m.field]," ")}}function Ci(e,n){if(e&1&&(o(0,"td",22),P(1,_i,3,3,"ng-container",23)(2,yi,3,3,"ng-container",23)(3,bi,2,1,"ng-container",24),r()),e&2){let m=n.$implicit;p("ngSwitch",m.field),l(),p("ngSwitchCase","nombre"),l(),p("ngSwitchCase","totalValorCompra")}}function Si(e,n){if(e&1){let m=j();o(0,"tr")(1,"td")(2,"button",19),v("click",function(a){let t=$(m).$implicit,d=Z(4),h=c();return V(h.generateMenu(t,d,a))}),r(),g(3,"p-menu",20,1),r(),P(5,Ci,4,3,"td",21),r()}if(e&2){let m=c();l(3),p("popup",!0)("model",m.itemsMenu),l(2),p("ngForOf",m.cols)}}function Fi(e,n){if(e&1&&(o(0,"div",25),s(1),r()),e&2){let m=c(),i=Z(2);l(),_(" En total hay ",i.filteredValue?i.filteredValue.length:m.materias.length," registros. ")}}function Ii(e,n){e&1&&(o(0,"tr")(1,"td",26),s(2," No se encontraron registros "),r()()),e&2&&(l(),ne("colspan",5))}var ri=(()=>{let n=class n{get RoutestEnum(){return u}constructor(i,a,t){this.materiaPrimaService=i,this.router=a,this.confirmationDialogService=t,this.itemsMenu=[],this.materias=[]}ngOnInit(){this.initColumns(),this.getAll()}initColumns(){this.cols=[{field:"nombre",header:"Nombre"},{field:"unidadMedida",header:"Unidad de medida"},{field:"totalCantidadDisponible",header:"Total cantidad disponible"}]}generateMenu(i,a,t){a.toggle(t),this.itemsMenu=[{label:"Gestionar ingresos",icon:"pi pi-arrow-right-arrow-left ",command:()=>{this.router.navigate([`/${u.MateriaPrima}/${u.Gestion}/`,i.id])}},{label:"Editar",icon:"pi pi-pencil",command:()=>{this.router.navigate([`/${u.MateriaPrima}/${u.Edit}/`,i.id])}},{label:"Eliminar",icon:"pi pi-trash",command:()=>{this.delete(i)}}]}delete(i){this.confirmationDialogService.confirmDelete(`\xBFEst\xE1 seguro que desea eliminar la materia prima ${i.nombre.toLocaleUpperCase()} ?`,()=>{this.materiaPrimaService.delete(i.id).subscribe(()=>{this.getAll()})})}getAll(){this.materiaPrimaService.get().subscribe(i=>this.materias=i)}};n.\u0275fac=function(a){return new(a||n)(f(b),f(w),f(ve))},n.\u0275cmp=F({type:n,selectors:[["app-materia-query"]],viewQuery:function(a,t){if(a&1&&de(di,5),a&2){let d;ce(d=ue())&&(t.dt=d.first)}},features:[I([b,Re,Ne])],decls:8,vars:9,consts:[["dt",""],["menu",""],[1,"card"],["dataKey","id","currentPageReportTemplate","Mostrar {first} a {last} de {totalRecords} registros",3,"value","rows","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[1,"mb-4"],[1,"flex","align-items-center","justify-content-between","flex-wrap"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["pRipple","","label","Agregar Materia Prima","icon","pi pi-plus",1,"mr-2",3,"routerLink"],[2,"width","4rem"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["pButton","","pRipple","","type","button","icon","pi pi-bars",1,"p-button-rounded","p-button-text",3,"click"],["appendTo","body",3,"popup","model"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","align-items-center","justify-content-between"],[1,"text-center","py-4"]],template:function(a,t){a&1&&(o(0,"div",2)(1,"p-table",3,0),P(3,gi,7,3,"ng-template",4)(4,hi,4,1,"ng-template",5)(5,Si,6,3,"ng-template",6)(6,Fi,2,1,"ng-template",7)(7,Ii,3,1,"ng-template",8),r()()),a&2&&(l(),p("value",t.materias)("rows",5)("paginator",!0)("globalFilterFields",J(7,ci))("tableStyle",J(8,ui))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[pt,ct,ut,ft,Ct,ge,ke,M,R,_e,ye,be,x,Ae,fe,he]});let e=n;return e})();var oi=function(e){return e.nombre="nombre",e.unidadMedida="unidadMedida",e.descripcion="descripcion",e}(oi||{}),ai=(()=>{let n=class n{constructor(i,a,t){this.fb=i,this.router=a,this.materiaPrimaService=t,this.unidadMedidaArray=[],this.itemsMenu=[],this.myForm=this.fb.group({nombre:["",y.required],unidadMedida:["",y.required],descripcion:[""]})}ngOnInit(){this.enumToArray()}cancel(){this.router.navigate(["/"+u.MateriaPrima])}save(){if(this.myForm.valid){let i={nombre:this.myForm.get("nombre").value,descripcion:this.myForm.get("descripcion").value,unidadMedida:this.myForm.get(oi.unidadMedida).value};this.materiaPrimaService.post(i).subscribe(a=>{a&&this.cancel()})}}enumToArray(){this.unidadMedidaArray=Object.keys(Ce)}};n.\u0275fac=function(a){return new(a||n)(f(L),f(w),f(b))},n.\u0275cmp=F({type:n,selectors:[["app-materia-new"]],features:[I([b])],decls:28,vars:10,consts:[[1,"card",2,"width","80%"],[1,"mb-5"],[1,"p-fluid","p-formgrid","grid",3,"formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","firstname2"],[1,"text-danger"],["pInputText","","id","firstname2","type","text","formControlName","nombre","placeholder","Nombre","appCustomInputError","",3,"valueForm","errors"],["customLabel","",3,"valueForm","errors"],["htmlFor","unidadMedida"],["placeholder","Selecciona una unidad de medida","formControlName","unidadMedida",3,"options","autoDisplayFirst","value"],["htmlFor","descripcionid"],[1,"text-secondary"],["formControlName","descripcion","rows","5","cols","30","pInputTextarea","","placeholder","Descripci\xF3n",3,"autoResize"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"click"],["pRipple","","label","Guardar","icon","pi pi-check",3,"click","disabled"]],template:function(a,t){if(a&1&&(o(0,"div",0)(1,"h5",1),s(2,"Agregar materia prima"),r(),o(3,"form",2)(4,"div",3)(5,"label",4),s(6,"Nombre "),o(7,"span",5),s(8,"*"),r()(),g(9,"input",6)(10,"span",7),r(),o(11,"div",3)(12,"label",8),s(13,"Unidad de medida "),o(14,"span",5),s(15,"*"),r()(),g(16,"p-dropdown",9),r(),o(17,"div",3)(18,"label",10),s(19,"Descripci\xF3n "),o(20,"span",11),s(21,"(opcional)"),r()(),o(22,"textarea",12),s(23,"      "),r()(),o(24,"div",13)(25,"div",14)(26,"p-button",15),v("click",function(){return t.cancel()}),r(),o(27,"p-button",16),v("click",function(){return t.save()}),r()()()()()),a&2){let d,h,C,S;l(3),p("formGroup",t.myForm),l(6),p("valueForm",(d=t.myForm.get("nombre"))==null?null:d.value)("errors",(h=t.myForm.get("nombre"))==null?null:h.errors),l(),p("valueForm",(C=t.myForm.get("nombre"))==null?null:C.value)("errors",(S=t.myForm.get("nombre"))==null?null:S.errors),l(6),p("options",t.unidadMedidaArray)("autoDisplayFirst",!1)("value",t.myForm.get("unidadMedida")),l(6),p("autoResize",!0),l(5),p("disabled",t.myForm.invalid)}},dependencies:[M,R,te,B,X,A,G,Q,q,U,x,Y,K]});let e=n;return e})();var E=(()=>{let n=class n{constructor(i,a){this.http=i,this.toastr=a,this.API_URL=Ve.API_URL+"ingresoMateriaPrima"}post(i){let a=`${this.API_URL}`;return this.http.post(a,i).pipe(ie(t=>(this.toastr.success("Exito! se ha agregado un nuevo ingreso "),t)))}getById(i){let a=`${this.API_URL}/${i}`;return this.http.get(a).pipe(ie(t=>t))}delete(i){let a=`${this.API_URL}/${i}`;return this.http.delete(a).pipe(ie(t=>(this.toastr.success("Exito! Se elimino el ingreso de la materia prima "),t)))}put(i,a){let t=`${this.API_URL}/${i}`;return this.http.put(t,a).pipe(ie(d=>(this.toastr.success("Exito! se ha Editado el ingreso con c\xF3digo "+a.codigo),d)))}};n.\u0275fac=function(a){return new(a||n)(ae(we),ae(je))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac});let e=n;return e})();var Xe=(()=>{let n=class n{constructor(i,a){this.http=i,this.toastr=a,this.API_URL=Ve.API_URL+"estadoIngresoMateriaPrima"}post(i,a){let t=`${this.API_URL}`;return this.http.post(t,a).pipe(ie(d=>(this.toastr.success("Exito! agrego nuevo estado "),d)),at(d=>(this.toastr.error("No se ha podido guardar el estado nuevo"),ot([]))))}};n.\u0275fac=function(a){return new(a||n)(ae(we),ae(je))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac});let e=n;return e})();function Di(e,n){if(e&1&&(o(0,"small",9),s(1),r()),e&2){let m=c();l(),_(" ",m.msjError!=null?m.msjError:""," ")}}var ni=(()=>{let n=class n{constructor(i,a,t,d,h){this.dialogService=i,this.ref=a,this.fb=t,this.config=d,this.estadoIngresoMateriaPrimaService=h,this.estados=Object.keys(N),this.msjError=void 0,this.initForm()}ngOnInit(){this.ingreso=this.config.data.ingreso,this.callback=this.config.data.callback,this.ingreso&&this.myForm.get("estado").setValue(this.ingreso?.currentState?.nombre),this.myForm.get("estado").valueChanges.subscribe(i=>{i!=this.msjError&&(this.msjError=void 0)})}cancel(){this.ref.close()}save(){if(this.myForm.get("estado").value==this.ingreso.currentState.nombre){this.msjError="No le puede asignar el estado actual";return}this.msjError=void 0,this.estadoIngresoMateriaPrimaService.post(this.ingreso.id,{estado:this.myForm.get("estado").value,ingresoMateriaPrimaId:this.ingreso.id}).subscribe(i=>{this.cancel(),this.callback()})}initForm(){this.myForm=this.fb.group({estado:["",y.required]})}};n.\u0275fac=function(a){return new(a||n)(f(H),f(Ut),f(L),f(Ot),f(Xe))},n.\u0275cmp=F({type:n,selectors:[["app-ingreso-cambiar-estado"]],features:[I([H,Xe])],decls:11,vars:6,consts:[[1,"p-fluid","p-formgrid","grid",3,"formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","estado"],["placeholder","Selecciona un estado","formControlName","estado",3,"options","autoDisplayFirst","value"],["id","username-help","class","text-red",4,"ngIf"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"click"],["pRipple","","label","Guardar","icon","pi pi-check",3,"onClick","disabled"],["id","username-help",1,"text-red"]],template:function(a,t){a&1&&(o(0,"div")(1,"form",0)(2,"div",1)(3,"label",2),s(4,"Estados *"),r(),g(5,"p-dropdown",3),P(6,Di,2,1,"small",4),r(),o(7,"div",5)(8,"div",6)(9,"p-button",7),v("click",function(){return t.cancel()}),r(),o(10,"p-button",8),v("onClick",function(){return t.save()}),r()()()()()),a&2&&(l(),p("formGroup",t.myForm),l(4),p("options",t.estados)("autoDisplayFirst",!1)("value",t.myForm.get("estado")),l(),p("ngIf",t.msjError!=null),l(4),p("disabled",t.myForm.invalid))},dependencies:[dt,M,B,A,G,Q,q,U,x],styles:[".p-dialog-content{overflow-y:visible}"]});let e=n;return e})();var ki=["dt"],$i=()=>["nombre","cantidad","familiaProductora.nombre","currentState.nombre"],Vi=()=>({"min-width":"auto"});function ji(e,n){if(e&1){let m=j();o(0,"div",18)(1,"div")(2,"h5",19),s(3,"Historial de ingresos"),r(),o(4,"span",20),g(5,"i",21),o(6,"input",22),v("input",function(a){$(m),c();let t=Z(25);return V(t.filterGlobal(a.target.value,"contains"))}),r()()()()}}function Ai(e,n){if(e&1&&(o(0,"th",24),s(1),g(2,"p-sortIcon",25),r()),e&2){let m=c().$implicit;p("pSortableColumn",m.field),l(),_(" ",m.header," "),l(),p("field",m.field.nombre)}}function Gi(e,n){if(e&1&&(o(0,"th",24),s(1),g(2,"p-sortIcon",25),r()),e&2){let m=c().$implicit;p("pSortableColumn",m.field),l(),_(" ",m.header," "),l(),p("field",m.field.nombre)}}function Bi(e,n){if(e&1&&(o(0,"th",24),s(1),g(2,"p-sortIcon",25),r()),e&2){let m=c().$implicit;p("pSortableColumn",m.field),l(),_(" ",m.header," "),l(),p("field",m.field)}}function Qi(e,n){if(e&1&&P(0,Ai,3,3,"th",24)(1,Gi,3,3,"th",24)(2,Bi,3,3,"th",24),e&2){let m,i=n.$implicit;le((m=i.field)==="familiaProductora"?0:m==="currentState"?1:2)}}function qi(e,n){if(e&1&&(o(0,"tr")(1,"th",23),s(2," Acciones "),r(),se(3,Qi,3,1,null,null,me),r()),e&2){let m=c();l(3),pe(m.cols)}}function Li(e,n){if(e&1&&(o(0,"td"),s(1),T(2,"dateTransformPipe"),r()),e&2){let m=c().$implicit,i=c().$implicit;l(),D(k(2,1,i[m.field]))}}function Oi(e,n){if(e&1&&(o(0,"td"),s(1),T(2,"priceTransform"),r()),e&2){let m=c().$implicit,i=c().$implicit;l(),D(k(2,1,i[m.field]))}}function Ui(e,n){if(e&1&&(o(0,"td"),s(1),r()),e&2){let m=c().$implicit,i=c().$implicit;l(),D(i[m.field].nombre)}}function Hi(e,n){if(e&1&&(o(0,"td"),g(1,"p-tag",28),r()),e&2){let m=c().$implicit,i=c().$implicit,a=c();l(),p("value",i[m.field].nombre)("severity",a.getSeverity(i[m.field].nombre))}}function zi(e,n){if(e&1&&(o(0,"td"),s(1),r()),e&2){let m=c().$implicit,i=c().$implicit;l(),_(" ",i[m.field]," ")}}function Zi(e,n){if(e&1&&P(0,Li,3,3,"td")(1,Oi,3,3,"td")(2,Ui,2,1,"td")(3,Hi,2,2,"td")(4,zi,2,1,"td"),e&2){let m,i=n.$implicit;le((m=i.field)==="fecha"?0:m==="valorCompra"?1:m==="familiaProductora"?2:m==="currentState"?3:4)}}function Ji(e,n){if(e&1){let m=j();o(0,"tr")(1,"td")(2,"button",26),v("click",function(a){let t=$(m).$implicit,d=Z(4),h=c();return V(h.generateMenu(t,d,a))}),r(),g(3,"p-menu",27,1),r(),se(5,Zi,5,1,null,null,me),r()}if(e&2){let m=c();l(3),p("popup",!0)("model",m.itemsMenu),l(2),pe(m.cols)}}function Wi(e,n){if(e&1&&(o(0,"div",18),s(1),r()),e&2){let m=c();l(),_(" En total hay ",m.materiaPrimaDetail!=null&&m.materiaPrimaDetail.ingresos?m.materiaPrimaDetail.ingresos.length:0," registros. ")}}function Xi(e,n){e&1&&(o(0,"tr")(1,"td",29),s(2," No se encontraron registros "),r()()),e&2&&(l(),ne("colspan",5))}var rt=(()=>{let n=class n{get RoutestEnum(){return u}constructor(i,a,t,d,h,C){this.materiaPrimaService=i,this.activateRouter=a,this.router=t,this.confirmationDialogService=d,this.ingresoMateriaPrimasService=h,this.dialogService=C,this.itemsMenu=[]}ngOnInit(){this.getRefresh(),this.initColumns()}initColumns(){this.cols=[{field:"codigo",header:"C\xF3digo",sort:!0},{field:"cantidad",header:"Cantidad",sort:!0},{field:"valorCompra",header:"Valor",sort:!0},{field:"familiaProductora",header:"Familia Productora",sort:!0},{field:"fecha",header:"Fecha de creaci\xF3n",sort:!0},{field:"currentState",header:"Estado",sort:!0}]}generateMenu(i,a,t){a.toggle(t),this.itemsMenu=[{label:"Detalle",icon:"pi pi-eye",command:()=>{this.router.navigate([`/${u.MateriaPrima}/${u.Gestion}/${u.Detail}/`,i.id])}},{label:"Cambiar Estado",icon:"pi pi-tags",command:()=>{this.changeState(i)}},{label:"Editar",icon:"pi pi-pencil",command:()=>{this.router.navigate([`/${u.MateriaPrima}/${u.Gestion}/${u.Edit}/`,i.id])}},{label:"Eliminar",icon:"pi pi-trash",command:()=>{this.delete(i)}}]}toAddIngreso(){this.router.navigate([`/${u.MateriaPrima}/${u.Gestion}/${u.New}`,this.materiaPrimaDetail.id])}back(){this.router.navigate([`/${u.MateriaPrima}`])}getSeverity(i){switch(i){case N.CAMARA_FRIO:return"primary";case N.ESTANTE:return"warning";case N.FREEZER:return"info"}}delete(i){this.confirmationDialogService.confirmDelete(`\xBFEst\xE1 seguro que desea eliminar el ingreso con codigo ${i.codigo} ?`,()=>{this.ingresoMateriaPrimasService.delete(i.id).subscribe(()=>{this.getRefresh()})})}getRefresh(){this.id=Number(this.activateRouter.snapshot.paramMap.get("id")),this.materiaPrimaService.getById(this.id).subscribe(i=>this.materiaPrimaDetail=i)}changeState(i){let a=this.getRefresh.bind(this);this.ref=this.dialogService.open(ni,{header:"Cambiar estado de del ingreso",width:"50vw",closable:!1,contentStyle:{overflow:"visible"},data:{ingreso:i,callback:a}}),this.ref.onClose.subscribe(t=>{})}};n.\u0275fac=function(a){return new(a||n)(f(b),f(O),f(w),f(ve),f(E),f(H))},n.\u0275cmp=F({type:n,selectors:[["app-materia-detail"]],viewQuery:function(a,t){if(a&1&&de(ki,5),a&2){let d;ce(d=ue())&&(t.dt=d.first)}},features:[I([b,Re,Ne,E,H])],decls:31,vars:15,consts:[["dt",""],["menu",""],["pRipple","","label","Volver","icon","pi pi-arrow-left","styleClass","mb-4","severity","secondary",3,"click"],[1,"grid"],[1,"col-6"],[1,"mb-4","text-sm"],[1,"font-bold","mt-2"],[1,"p-card-title"],[1,"flex","justify-content-end","flex-wrap","mb-3"],["pRipple","","severity","primary","label","Agregar Ingreso","icon","pi pi-plus",1,"mr-2",3,"click"],[1,""],[1,"col-12"],["dataKey","id","currentPageReportTemplate","Mostrar {first} a {last} de {totalRecords} registros",3,"value","rows","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left","mt-4"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],[2,"width","4rem"],[3,"pSortableColumn"],[3,"field"],["pButton","","pRipple","","type","button","icon","pi pi-bars",1,"p-button-rounded","p-button-text",3,"click"],["appendTo","body",3,"popup","model"],[3,"value","severity"],[1,"text-center","py-4"]],template:function(a,t){if(a&1){let d=j();o(0,"p-button",2),v("click",function(){return $(d),V(t.back())}),r(),o(1,"p-card")(2,"div",3)(3,"div",4)(4,"span",5),s(5,"Gesti\xF3n de ingresos"),r(),o(6,"div",6)(7,"div",7),s(8),T(9,"titlecase"),r()()(),o(10,"div",4)(11,"div",8)(12,"p-button",9),v("click",function(){return $(d),V(t.toAddIngreso())}),r()()(),o(13,"div",4)(14,"div",10),s(15," Cantidad total: "),o(16,"b"),s(17),r()()(),o(18,"div",11)(19,"div",10),s(20," Descripci\xF3n: "),o(21,"b"),s(22),r()()()(),g(23,"p-divider"),o(24,"p-table",12,0),P(26,ji,7,0,"ng-template",13)(27,qi,5,0,"ng-template",14)(28,Ji,7,2,"ng-template",15)(29,Wi,2,1,"ng-template",16)(30,Xi,3,1,"ng-template",17),r()()}a&2&&(l(8),_(" ",k(9,11,t.materiaPrimaDetail==null?null:t.materiaPrimaDetail.nombre),""),l(9),Ee("",t.materiaPrimaDetail==null?null:t.materiaPrimaDetail.totalCantidadDisponible," ",t.materiaPrimaDetail==null?null:t.materiaPrimaDetail.unidadMedida,""),l(5),D((t.materiaPrimaDetail==null?null:t.materiaPrimaDetail.descripcion)||"-"),l(2),p("value",t.materiaPrimaDetail==null?null:t.materiaPrimaDetail.ingresos)("rows",5)("paginator",!0)("globalFilterFields",J(13,$i))("tableStyle",J(14,Vi))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[ge,Ue,ke,M,$e,R,_e,ye,be,Oe,x,Ae,fe,Ge,he],styles:[".p-dropdown-panel .p-dropdown-items .p-dropdown-item{display:flex}"]});let e=n;return e})();var li=(()=>{let n=class n{constructor(i,a,t,d,h,C){this.fb=i,this.router=a,this.activatedRoute=t,this.ingresoMateriaPrimasService=d,this.materiaPrimaService=h,this.familiaProductoraService=C,this.estados=Object.keys(N),this.itemsMenu=[],this.familias=[],this.currentDate=new Date,this.positiveNumberValidator=S=>{let W=S.value;return isNaN(W)||W<0?{positiveNumber:{value:S.value}}:null},this.initForm()}ngOnInit(){let i=Number(this.activatedRoute.snapshot.paramMap.get("id"));this.materiaPrimaService.getById(i).subscribe(a=>{this.materiaPrima=a,this.myForm.get("materiaPrimaId").setValue(this.materiaPrima.id),this.myForm.updateValueAndValidity()}),this.familiaProductoraService.get().subscribe(a=>{this.familias=a}),this.myForm.get("fecha").valueChanges.subscribe(a=>{console.log("FECHA",a)})}cancel(){this.router.navigate([`/${u.MateriaPrima}/${u.Gestion}`,this.materiaPrima.id])}save(){if(this.myForm.valid){let i={descripcion:this.myForm.get("descripcion").value,cantidad:this.myForm.get("cantidad").value,codigo:this.myForm.get("codigo").value,estado:this.myForm.get("estado").value,familiaPrimaId:this.myForm.get("familiaPrimaId").value,materiaPrimaId:this.myForm.get("materiaPrimaId").value,valorCompra:this.myForm.get("valorCompra").value,fecha:this.myForm.get("fecha").value};this.ingresoMateriaPrimasService.post(i).subscribe(a=>{a&&this.cancel()})}}initForm(){this.myForm=this.fb.group({descripcion:[""],valorCompra:[null,[y.required,this.positiveNumberValidator]],codigo:[""],cantidad:[null,[y.required,this.positiveNumberValidator]],materiaPrimaId:["",y.required],familiaPrimaId:["",y.required],estado:["",y.required],fecha:[new Date,y.required]})}};n.\u0275fac=function(a){return new(a||n)(f(L),f(w),f(O),f(E),f(b),f(ee))},n.\u0275cmp=F({type:n,selectors:[["app-agregar-ingresos"]],features:[I([E,b,ee])],decls:59,vars:32,consts:[["pRipple","","label","Volver","icon","pi pi-arrow-left","styleClass","mb-4","severity","secondary",3,"onClick"],[1,"card",2,"width","80%"],[1,"mb-5","m-2"],[1,"p-fluid","p-formgrid","grid",3,"formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","familiaPrimaId",1,"mr-3"],["id","disabled-input","type","text","pInputText","",1,"font-bold",2,"color","var(--surface-950)",3,"disabled","value"],[1,"text-danger"],["customLabel","",3,"valueForm","errors"],["placeholder","Selecciona una familia productora","formControlName","familiaPrimaId","optionLabel","nombre","optionValue","id","filterBy","nombre","appCustomInputError","",3,"options","autoDisplayFirst","filter","showClear","valueForm","errors"],["htmlFor","valorCompra"],["placeholder","Ingrese un valor de compras","inputId","locale-user","id","valorCompra","formControlName","valorCompra","appCustomInputError","",3,"minFractionDigits","valueForm","errors"],["htmlFor","unidadMedida"],["placeholder","Ingrese una cantidad","formControlName","cantidad","inputId","integeronly",3,"value"],["htmlFor","estado"],["placeholder","Selecciona un estado","formControlName","estado",3,"options","autoDisplayFirst","value"],["htmlFor","descripcionid"],[1,"text-color-secondary"],["inputId","calendar-24h",1,"min-w-full",3,"placeholder","showTime","hourFormat","max","showIcon"],["formControlName","descripcion","rows","4","cols","20","pInputTextarea","",3,"autoResize"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"click"],["pRipple","","label","Guardar","icon","pi pi-check","tooltipPosition","top",3,"onClick","disabled","pTooltip"]],template:function(a,t){if(a&1&&(o(0,"p-button",0),v("onClick",function(){return t.cancel()}),r(),o(1,"div",1)(2,"h5",2),s(3,"Agregar Ingreso"),r(),o(4,"form",3)(5,"div",4)(6,"label",5),s(7,"Materia Prima: "),r(),g(8,"input",6),r(),o(9,"div",4)(10,"label",5),s(11,"Familia Productora "),o(12,"span",7),s(13,"*"),r()(),g(14,"span",8)(15,"p-dropdown",9),r(),o(16,"div",4)(17,"label",10),s(18,"Valor de compra "),o(19,"span",7),s(20,"*"),r()(),o(21,"p-inputGroup")(22,"p-inputGroupAddon"),s(23,"$"),r(),g(24,"p-inputNumber",11),r(),g(25,"span",8),r(),o(26,"div",4)(27,"label",12),s(28,"Cantidad "),o(29,"span",7),s(30,"*"),r()(),o(31,"p-inputGroup")(32,"p-inputGroupAddon"),s(33),r(),g(34,"p-inputNumber",13),r()(),o(35,"div",4)(36,"label",14),s(37,"Estado "),o(38,"span",7),s(39,"*"),r()(),g(40,"p-dropdown",15),r(),o(41,"div",4)(42,"label",16),s(43,"Fecha de ingreso "),o(44,"small",17),s(45,"(opcional)"),r()(),g(46,"p-calendar",18),T(47,"date"),r(),o(48,"div",4)(49,"label",16),s(50,"Descripci\xF3n "),o(51,"small",17),s(52,"(opcional)"),r()(),o(53,"textarea",19),s(54,"      "),r()(),o(55,"div",20)(56,"div",21)(57,"p-button",22),v("click",function(){return t.cancel()}),r(),o(58,"p-button",23),v("onClick",function(){return t.save()}),r()()()()()),a&2){let d,h,C,S,W,Ie,xe,Me;l(4),p("formGroup",t.myForm),l(4),p("disabled",!0)("value",t.materiaPrima==null?null:t.materiaPrima.nombre),l(6),p("valueForm",(d=t.myForm.get("familiaPrimaId"))==null?null:d.value)("errors",(h=t.myForm.get("familiaPrimaId"))==null?null:h.errors),l(),p("options",t.familias)("autoDisplayFirst",!1)("filter",!0)("showClear",!0)("valueForm",(C=t.myForm.get("familiaPrimaId"))==null?null:C.value)("errors",(S=t.myForm.get("familiaPrimaId"))==null?null:S.errors),l(9),p("minFractionDigits",2)("valueForm",(W=t.myForm.get("valorCompra"))==null?null:W.value)("errors",(Ie=t.myForm.get("valorCompra"))==null?null:Ie.errors),l(),p("valueForm",(xe=t.myForm.get("valorCompra"))==null?null:xe.value)("errors",(Me=t.myForm.get("valorCompra"))==null?null:Me.errors),l(8),_(" ",t.materiaPrima==null?null:t.materiaPrima.unidadMedida," "),l(),p("value",t.myForm.get("cantidad")),l(6),p("options",t.estados)("autoDisplayFirst",!1)("value",t.myForm.get("estado")),l(6),p("placeholder",st(47,29,t.currentDate,"dd/MM/yyyy"))("showTime",!1)("hourFormat",24)("max",t.currentDate)("showIcon",!0),l(7),p("autoResize",!0),l(5),p("disabled",t.myForm.invalid)("pTooltip",t.myForm.invalid?"Debe completar los campos requeridos":null)}},dependencies:[M,R,te,B,X,A,G,Q,q,U,Be,Le,x,xt,Qe,Y,K,qe,gt]});let e=n;return e})();var rr=["dt"],or=()=>["fecha","autor.nombre","estado"],ar=()=>({"min-width":"auto"});function nr(e,n){if(e&1){let m=j();o(0,"div",12)(1,"h5",13),s(2,"Historial de Estados"),r(),o(3,"span",14),g(4,"i",15),o(5,"input",16),v("input",function(a){$(m),c();let t=Z(40);return V(t.filterGlobal(a.target.value,"contains"))}),r()()()}}function lr(e,n){if(e&1&&(o(0,"th",17),s(1),g(2,"p-sortIcon",18),r()),e&2){let m=c().$implicit;p("pSortableColumn",m.field),l(),_(" ",m.header," "),l(),p("field",m.field.nombre)}}function mr(e,n){if(e&1&&(o(0,"th",17),s(1),g(2,"p-sortIcon",18),r()),e&2){let m=c().$implicit;p("pSortableColumn",m.field),l(),_(" ",m.header," "),l(),p("field",m.field)}}function sr(e,n){if(e&1&&P(0,lr,3,3,"th",17)(1,mr,3,3,"th",17),e&2){let m,i=n.$implicit;le((m=i.field)==="autor"?0:1)}}function pr(e,n){if(e&1&&(o(0,"tr"),se(1,sr,2,1,null,null,me),r()),e&2){let m=c();l(),pe(m.cols)}}function dr(e,n){if(e&1&&(o(0,"td"),s(1),T(2,"dateTransformPipe"),r()),e&2){let m=c().$implicit,i=c().$implicit;l(),D(k(2,1,i[m.field]))}}function cr(e,n){if(e&1&&(o(0,"td"),s(1),r()),e&2){let m=c().$implicit,i=c().$implicit;l(),D(i[m.field].nombre)}}function ur(e,n){if(e&1&&(o(0,"td"),g(1,"p-tag",19),r()),e&2){let m=c().$implicit,i=c().$implicit,a=c();l(),p("value",i[m.field])("severity",a.getSeverity(i[m.field]))}}function fr(e,n){if(e&1&&P(0,dr,3,3,"td")(1,cr,2,1,"td")(2,ur,2,2,"td"),e&2){let m,i=n.$implicit;le((m=i.field)==="fecha"?0:m==="autor"?1:m==="estado"?2:-1)}}function gr(e,n){if(e&1&&(o(0,"tr"),se(1,fr,3,1,null,null,me),r()),e&2){let m=c();l(),pe(m.cols)}}function vr(e,n){if(e&1&&(o(0,"div",12),s(1),r()),e&2){let m=c();l(),_(" En total hay ",m.ingreso!=null&&m.ingreso.estados?m.ingreso.estados.length:0," registros. ")}}function hr(e,n){e&1&&(o(0,"tr")(1,"td",20),s(2," No se encontraron registros "),r()()),e&2&&(l(),ne("colspan",5))}var mi=(()=>{let n=class n{constructor(i,a,t,d){this.activatedRoute=i,this.router=a,this.confirmationDialogService=t,this.ingresoMateriaPrimasService=d}ngOnInit(){this.initColumns(),this.getRefresh()}back(){this.router.navigate([`/${u.MateriaPrima}/${u.Gestion}/`,this.ingreso.materiaPrima.id])}getRefresh(){this.id=Number(this.activatedRoute.snapshot.paramMap.get("id")),this.ingresoMateriaPrimasService.getById(this.id).subscribe(i=>this.ingreso=i)}initColumns(){this.cols=[{field:"autor",header:"Autor",sort:!0},{field:"fecha",header:"Fecha de creaci\xF3n",sort:!0},{field:"estado",header:"Estado",sort:!0}]}getSeverity(i){switch(i){case N.CAMARA_FRIO:return"primary";case N.ESTANTE:return"warning";case N.FREEZER:return"info"}}};n.\u0275fac=function(a){return new(a||n)(f(O),f(w),f(ve),f(E))},n.\u0275cmp=F({type:n,selectors:[["app-ingreso-detail"]],viewQuery:function(a,t){if(a&1&&de(rr,5),a&2){let d;ce(d=ue())&&(t.dt=d.first)}},features:[I([E,H])],decls:46,vars:25,consts:[["dt",""],["pRipple","","label","Volver","icon","pi pi-arrow-left","styleClass","mb-4","severity","secondary",3,"click"],[1,"grid"],[1,"col-12"],[1,"font"],[1,"col-6"],["dataKey","id","currentPageReportTemplate","Mostrar {first} a {last} de {totalRecords} registros",3,"value","rows","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],[3,"pSortableColumn"],[3,"field"],[3,"value","severity"],[1,"text-center","py-4"]],template:function(a,t){if(a&1){let d=j();o(0,"p-button",1),v("click",function(){return $(d),V(t.back())}),r(),o(1,"p-card")(2,"div",2)(3,"div",3),s(4," Ingreso: "),o(5,"b",4),s(6),T(7,"titlecase"),r()(),o(8,"div",5),s(9," Materia Prima: "),o(10,"b"),s(11),r()(),o(12,"div",5),s(13," C\xF3digo: "),o(14,"b"),s(15),T(16,"titlecase"),r()(),o(17,"div",5),s(18," Cantidad ingresada: "),o(19,"b"),s(20),r()(),o(21,"div",5),s(22," Valor de compra ingresada: "),o(23,"b"),s(24),T(25,"priceTransform"),r()(),o(26,"div",5),s(27," Estado Actual: "),o(28,"b"),s(29),r()(),o(30,"div",5),s(31," Familia productora: "),o(32,"b"),s(33),r()(),o(34,"div",3),s(35," Descripci\xF3n: "),o(36,"b"),s(37),r()()(),g(38,"p-divider"),o(39,"p-table",6,0),P(41,nr,6,0,"ng-template",7)(42,pr,3,0,"ng-template",8)(43,gr,3,0,"ng-template",9)(44,vr,2,1,"ng-template",10)(45,hr,3,1,"ng-template",11),r()()}a&2&&(l(6),Ee(" ",(t.ingreso==null||t.ingreso.materiaPrima==null?null:t.ingreso.materiaPrima.nombre)||""," ",k(7,17,t.ingreso==null?null:t.ingreso.codigo)," "),l(5),D((t.ingreso==null?null:t.ingreso.materiaPrima.nombre)||""),l(4),D(k(16,19,t.ingreso==null?null:t.ingreso.codigo)),l(5),Ee("",t.ingreso==null?null:t.ingreso.cantidad," ",t.ingreso==null?null:t.ingreso.unidadMedida,""),l(4),D(k(25,21,t.ingreso==null?null:t.ingreso.valorCompra)),l(5),D(t.ingreso==null||t.ingreso.currentState==null?null:t.ingreso.currentState.nombre),l(4),D(t.ingreso==null||t.ingreso.familiaProductora==null?null:t.ingreso.familiaProductora.nombre),l(4),D((t.ingreso==null?null:t.ingreso.descripcion)||"-"),l(2),p("value",t.ingreso==null?null:t.ingreso.estados)("rows",5)("paginator",!0)("globalFilterFields",J(23,or))("tableStyle",J(24,ar))("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[ge,Ue,M,$e,R,_e,ye,be,Oe,x,fe,Ge,he]});let e=n;return e})();var si=(()=>{let n=class n{constructor(i,a,t,d,h){this.activatedRoute=i,this.router=a,this.ingresoMateriaPrimasService=t,this.fb=d,this.familiaProductoraService=h,this.unidadMedidaArray=Object.keys(Ce),this.estados=Object.keys(N),this.familias=[],this.positiveNumberValidator=C=>{let S=C.value;return isNaN(S)||S<0?{positiveNumber:{value:C.value}}:null},this.initForm()}ngOnInit(){this.getRefresh(),this.familiaProductoraService.get().subscribe(i=>{this.familias=i})}getRefresh(){this.id=Number(this.activatedRoute.snapshot.paramMap.get("id")),this.ingresoMateriaPrimasService.getById(this.id).subscribe(i=>{this.ingreso=i,this.ingreso&&(this.myForm.get("descripcion").setValue(this.ingreso.descripcion),this.myForm.get("valorCompra").setValue(this.ingreso.valorCompra),this.myForm.get("cantidad").setValue(this.ingreso.cantidad),this.myForm.get("materiaPrimaId").setValue(this.ingreso.materiaPrima.id),this.myForm.get("familiaPrimaId").setValue(this.ingreso.familiaProductora.id),this.myForm.get("estado").setValue(this.ingreso.currentState.nombre),this.myForm.get("fecha").setValue(new Date(this.ingreso.fecha)),this.myForm.updateValueAndValidity())})}initForm(){this.myForm=this.fb.group({descripcion:[""],valorCompra:["",[y.required,this.positiveNumberValidator]],cantidad:["",[y.required,this.positiveNumberValidator]],materiaPrimaId:["",y.required],familiaPrimaId:["",y.required],estado:["",y.required],fecha:["",y.required]})}cancel(){this.router.navigate([`/${u.MateriaPrima}/${u.Gestion}`,this.ingreso.materiaPrima.id])}save(){if(this.myForm.valid){let i={descripcion:this.myForm.get("descripcion").value,cantidad:this.myForm.get("cantidad").value,codigo:this.ingreso.codigo,estado:this.myForm.get("estado").value,familiaPrimaId:this.myForm.get("familiaPrimaId").value,materiaPrimaId:this.ingreso.materiaPrima.id,valorCompra:this.myForm.get("valorCompra").value};this.ingresoMateriaPrimasService.put(this.ingreso.id,i).subscribe(a=>{a&&this.back()})}}back(){this.router.navigate([`/${u.MateriaPrima}/${u.Gestion}/`,this.ingreso.materiaPrima.id])}get currentDate(){return new Date}};n.\u0275fac=function(a){return new(a||n)(f(O),f(w),f(E),f(L),f(ee))},n.\u0275cmp=F({type:n,selectors:[["app-ingreso-edit"]],features:[I([E,ee])],decls:51,vars:28,consts:[[1,"card",2,"width","80%"],[1,"mb-5","m-2"],[1,"p-fluid","p-formgrid","grid",3,"formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","familiaPrimaId",1,"mr-3"],["id","disabled-input","type","text","pInputText","",1,"font-bold",3,"disabled","value"],["customLabel","",3,"valueForm","errors"],["placeholder","Selecciona una familia productora","formControlName","familiaPrimaId","optionLabel","nombre","optionValue","id","filterBy","nombre","appCustomInputError","",3,"options","autoDisplayFirst","filter","showClear","valueForm","errors"],["htmlFor","valorCompra"],["inputId","locale-user","id","valorCompra","formControlName","valorCompra","appCustomInputError","",3,"minFractionDigits","valueForm","errors"],["htmlFor","unidadMedida"],["pInputText","","placeholder","Ingrese una cantidad","formControlName","cantidad",3,"value"],["htmlFor","estado"],["placeholder","Selecciona una unidad de medida","formControlName","estado",3,"options","autoDisplayFirst","value"],["htmlFor","descripcionid"],[1,"text-color-secondary"],["inputId","calendar-24h","formControlName","fecha","dateFormat","dd/mm/yy ",1,"min-w-full",3,"showTime","hourFormat","showIcon"],["formControlName","descripcion","rows","4","cols","20","pInputTextarea","",3,"autoResize"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"click"],["pRipple","","label","Guardar","icon","pi pi-check",3,"onClick","disabled"]],template:function(a,t){if(a&1&&(o(0,"div",0)(1,"h5",1),s(2,"Editar Ingreso"),r(),o(3,"form",2)(4,"div",3)(5,"label",4),s(6,"C\xF3digo de Ingreso: "),r(),g(7,"input",5),r(),o(8,"div",3)(9,"label",4),s(10,"Materia Prima: "),r(),g(11,"input",5),r(),o(12,"div",3)(13,"label",4),s(14,"Familia Productora *"),r(),g(15,"span",6)(16,"p-dropdown",7),r(),o(17,"div",3)(18,"label",8),s(19,"Valor de compra *"),r(),o(20,"p-inputGroup")(21,"p-inputGroupAddon"),s(22,"$"),r(),g(23,"p-inputNumber",9),r(),g(24,"span",6),r(),o(25,"div",3)(26,"label",10),s(27,"Cantidad*"),r(),o(28,"p-inputGroup")(29,"p-inputGroupAddon"),s(30),r(),g(31,"input",11),r()(),o(32,"div",3)(33,"label",12),s(34,"Estado *"),r(),g(35,"p-dropdown",13),r(),o(36,"div",3)(37,"label",14),s(38,"Fecha de ingreso "),o(39,"small",15),s(40,"(opcional)"),r()(),g(41,"p-calendar",16),r(),o(42,"div",3)(43,"label",14),s(44,"Descripci\xF3n"),r(),o(45,"textarea",17),s(46,"      "),r()(),o(47,"div",18)(48,"div",19)(49,"p-button",20),v("click",function(){return t.cancel()}),r(),o(50,"p-button",21),v("onClick",function(){return t.save()}),r()()()()()),a&2){let d,h,C,S,W,Ie,xe,Me;l(3),p("formGroup",t.myForm),l(4),p("disabled",!0)("value",t.ingreso==null?null:t.ingreso.codigo),l(4),p("disabled",!0)("value",t.ingreso==null?null:t.ingreso.materiaPrima.nombre),l(4),p("valueForm",(d=t.myForm.get("familiaPrimaId"))==null?null:d.value)("errors",(h=t.myForm.get("familiaPrimaId"))==null?null:h.errors),l(),p("options",t.familias)("autoDisplayFirst",!1)("filter",!0)("showClear",!0)("valueForm",(C=t.myForm.get("familiaPrimaId"))==null?null:C.value)("errors",(S=t.myForm.get("familiaPrimaId"))==null?null:S.errors),l(7),p("minFractionDigits",2)("valueForm",(W=t.myForm.get("valorCompra"))==null?null:W.value)("errors",(Ie=t.myForm.get("valorCompra"))==null?null:Ie.errors),l(),p("valueForm",(xe=t.myForm.get("valorCompra"))==null?null:xe.value)("errors",(Me=t.myForm.get("valorCompra"))==null?null:Me.errors),l(6),_(" ",t.ingreso==null?null:t.ingreso.unidadMedida," "),l(),p("value",t.myForm.get("cantidad")),l(4),p("options",t.estados)("autoDisplayFirst",!1)("value",t.myForm.get("estado")),l(6),p("showTime",!0)("hourFormat",24)("showIcon",!0),l(4),p("autoResize",!0),l(5),p("disabled",t.myForm.invalid)}},dependencies:[M,R,te,B,X,A,G,Q,q,U,Be,Le,x,Qe,Y,K,qe]});let e=n;return e})();var _r=[{path:"",redirectTo:"query",pathMatch:"full"},{path:u.Query,component:ri,title:"Listado de Materias Primas"},{path:`${u.Detail}/:id`,component:rt,title:"Detalle de Materia Prima"},{path:`${u.Edit}/:id`,component:Kt,title:"Editar Materia Prima"},{path:u.New,component:ai,title:"Agregar Materia Prima"},{path:`${u.Gestion}/:id`,component:rt,title:"Gestion de Ingresos de Materias Primas"},{path:`${u.Gestion}/${u.New}/:id`,component:li,title:"Registrar Ingreso de Materia Prima"},{path:`${u.Gestion}/${u.Detail}/:id`,component:mi,title:"Detalle de Ingreso de Materia Prima"},{path:`${u.Gestion}/${u.Edit}/:id`,component:si,title:"Editar Ingreso de Materia Prima"}],sa=(()=>{let n=class n{};n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=lt({type:n}),n.\u0275inj=nt({imports:[vt,St.forChild(_r),Yt,Xt,_t,yt,Tt,jt,Dt,At,Gt,Bt,Qt,Vt,It,bt,Ye,qt,Et,kt,Lt,Ht,zt,Zt,wt,$t,Jt,ht,Ft,Wt,Mt,Ye,Rt,Pt,Nt]});let e=n;return e})();export{sa as MateriaPrimaModule};
