import{a as f}from"./chunk-WJMKDESI.js";import{a as je,b as Be,c as Ae,d as ze,e as qe,g as Oe}from"./chunk-MPCCGEP2.js";import{b as se,c as be,d as ye}from"./chunk-OGQRLL7Z.js";import{a as Fe}from"./chunk-4HOYINZ7.js";import{b as Ee}from"./chunk-676UXHSL.js";import{B as Le,j as we,m as Te,n as Ie,o as Re,p as Pe,q as ke,r as q,s as De,t as Ne,u as Ve,w as Qe,z as Ge}from"./chunk-N32QBCDO.js";import{a as _e,b as he,e as L,f as z,i as Ce,k as Se,l as xe}from"./chunk-MOHWG4PF.js";import{$ as d,E as M,F as le,G as pe,H as E,I as ce,K as D,L as N,N as V,O as j,T as B,U as Q,W as A,Y as G,Z as ue,_ as H,ca as de,ea as w,fa as fe,ha as ge,ja as ve,m as k,pa as T,q as ae,qa as Me,v as me}from"./chunk-VXQCQYAP.js";import{$ as h,Db as X,Eb as Y,Fb as Z,Gb as S,Hb as l,Ib as ee,Jb as P,Mb as te,Nb as ie,Oa as m,Ob as re,Pa as u,Pb as x,Rb as $,S as K,Sb as oe,Uc as ne,aa as U,eb as O,fb as J,gb as s,ia as F,ja as C,pb as a,qb as o,rb as v,vb as R,xb as g,yb as _}from"./chunk-MPDHWXUF.js";var Ze=["dt"],et=()=>["nombre"],tt=()=>({"min-width":"auto"}),it=n=>[n];function rt(n,i){if(n&1){let p=R();a(0,"h2",12),l(1,"Familias Productoras"),o(),a(2,"div",13)(3,"span",14),v(4,"i",15),a(5,"input",16),g("input",function(e){F(p),_();let r=S(2);return C(r.filterGlobal(e.target.value,"contains"))}),o()(),v(6,"p-button",17),o()}if(n&2){let p=_();m(6),s("routerLink",oe(1,it,"/"+p.RoutestEnum.FamiliaProductora+"/"+p.RoutestEnum.New))}}function ot(n,i){n&1&&(a(0,"tr")(1,"th",18),l(2,"Acciones"),o(),a(3,"th",19),l(4,"Nombre "),v(5,"p-sortIcon",20),o(),a(6,"th",21),l(7," Descripci\xF3n "),v(8,"p-sortIcon",22),o()())}function nt(n,i){if(n&1){let p=R();a(0,"tr")(1,"td")(2,"button",23),g("click",function(e){let r=F(p).$implicit,c=S(4),y=_();return C(y.generateMenu(r,c,e))}),o(),v(3,"p-menu",24,2),o(),a(5,"td"),l(6),o(),a(7,"td"),l(8),o()()}if(n&2){let p=i.$implicit,t=_();m(3),s("popup",!0)("model",t.itemsMenu),m(3),P(" ",p.nombre," "),m(2),P(" ",(p==null?null:p.descripcion)!=""?p==null?null:p.descripcion:"-"," ")}}function at(n,i){if(n&1&&(a(0,"div",25),l(1),o()),n&2){let p=_(),t=S(2);m(),P(" En total hay ",t.filteredValue?t.filteredValue.length:p.familias.length," registros. ")}}function mt(n,i){n&1&&(a(0,"tr")(1,"td",26),l(2," No se encontraron registros "),o()()),n&2&&(m(),J("colspan",5))}function lt(n,i){if(n&1){let p=R();a(0,"div",27)(1,"span",28),l(2),o(),a(3,"p",29),l(4),o(),a(5,"div",30)(6,"button",31),g("click",function(){F(p),_();let e=S(9);return C(e.reject())}),o(),a(7,"button",32),g("click",function(){F(p),_();let e=S(9);return C(e.accept())}),o()()()}if(n&2){let p=i.$implicit;m(2),P(" ",p.header," "),m(2),ee(p.message)}}var Je=(()=>{let i=class i{get RoutestEnum(){return d}constructor(t,e,r){this.familiaProductoraService=t,this.confirmationService=e,this.router=r,this.itemsMenu=[],this.familias=[],this.productDialog=!1}ngOnInit(){this.fetchAll()}fetchAll(){this.familiaProductoraService.get().subscribe(t=>{this.familias=t})}generateMenu(t,e,r){e.toggle(r),this.itemsMenu=[{label:"Editar",icon:"pi pi-pencil",command:()=>{this.router.navigate([`/${d.FamiliaProductora}/${d.Edit}/`,t.id])}},{label:"Eliminar",icon:"pi pi-trash",command:()=>{this.delete(t)}}]}delete(t){this.confirmationService.confirm({message:"\xBFEsta seguro de eliminar  la familia "+t.nombre+"?",header:"Confirmar la Eliminaci\xF3n",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",key:"positionDialog",acceptButtonStyleClass:"p-button-danger p-button-text ",rejectButtonStyleClass:"p-button-secondary p-button-text",accept:()=>{this.familiaProductoraService.delete(t.id).subscribe(e=>{this.fetchAll()})},reject:()=>{}})}};i.\u0275fac=function(e){return new(e||i)(u(f),u(k),u(w))},i.\u0275cmp=h({type:i,selectors:[["app-query"]],viewQuery:function(e,r){if(e&1&&X(Ze,5),e&2){let c;Y(c=Z())&&(r.dt=c.first)}},features:[x([f,ae,k])],decls:11,vars:10,consts:[["dt",""],["cd",""],["menu",""],[1,"card"],["dataKey","id","currentPageReportTemplate","Mostrar {first} a {last} de {totalRecords} registros",3,"selectionChange","value","rows","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["key","positionDialog","position","center"],["pTemplate","headless"],[1,"mb-4"],[1,"flex","align-items-center","justify-content-between","flex-wrap"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["pRipple","","severity","primary","label","Agregar Familia Productora","icon","pi pi-plus",1,"mr-2",3,"routerLink"],[2,"width","4rem"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","descripcion"],["field","descripcion"],["pButton","","pRipple","","type","button","icon","pi pi-bars",1,"p-button-rounded","p-button-text",3,"click"],["appendTo","body",3,"popup","model"],[1,"flex","align-items-center","justify-content-between"],[1,"text-center","py-4"],[1,"flex","flex-column","p-5","surface-overlay","border-round"],[1,"font-bold","text-2xl","block","mb-2","mt-4"],[1,"mb-0"],[1,"flex","justify-content-between","flex-wrap","mt-4"],["pButton","","label","No",1,"p-button-outlined","p-button-secondary","w-5rem",3,"click"],["pButton","","label","Si",1,"w-5rem","p-button-danger",3,"click"]],template:function(e,r){if(e&1){let c=R();a(0,"div",3)(1,"p-table",4,0),re("selectionChange",function(b){return F(c),ie(r.selectedProducts,b)||(r.selectedProducts=b),C(b)}),O(3,rt,7,3,"ng-template",5)(4,ot,9,0,"ng-template",6)(5,nt,9,4,"ng-template",7)(6,at,2,1,"ng-template",8)(7,mt,3,1,"ng-template",9),o(),a(8,"p-confirmDialog",10,1),O(10,lt,8,2,"ng-template",11),o()()}e&2&&(m(),s("value",r.familias)("rows",5)("paginator",!0)("globalFilterFields",$(8,et))("tableStyle",$(9,tt)),te("selection",r.selectedProducts),s("rowHover",!0)("showCurrentPageReport",!0))},dependencies:[fe,pe,E,me,T,Se,Ie,Re,Pe,M,_e],styles:["[_nghost-%COMP%]     .p-dialog .product-image{width:150px;margin:0 auto 2rem;display:block}"]});let n=i;return n})();var Xe=(()=>{let i=class i{constructor(t,e,r,c){this.fb=t,this.router=e,this.familiaProductoraService=r,this.toastr=c,this.myForm=this.fb.group({nombre:["",N.required],descripcion:[""]})}ngOnInit(){}cancel(){this.router.navigate(["/"+d.FamiliaProductora])}save(){if(this.myForm.valid){let t={nombre:this.myForm.get("nombre").value,descripcion:this.myForm.get("descripcion").value};this.familiaProductoraService.post(t).subscribe(e=>{e&&this.cancel()})}}};i.\u0275fac=function(e){return new(e||i)(u(G),u(w),u(f),u(ve))},i.\u0275cmp=h({type:i,selectors:[["app-new"]],features:[x([f])],decls:18,vars:7,consts:[[1,"card"],[1,"mb-5","m-2"],[1,"p-fluid","p-formgrid","grid",3,"formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","firstname2"],["pInputText","","id","firstname2","type","text","formControlName","nombre","placeholder","Nombre / Raz\xF3n social","appCustomInputError","",3,"valueForm","errors"],["customLabel","",3,"valueForm","errors"],["htmlFor","descripcionid"],["formControlName","descripcion","rows","5","cols","30","pInputTextarea","","placeholder","Descripci\xF3n",3,"autoResize"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"click"],["pRipple","","label","Guardar","icon","pi pi-check",3,"click","disabled"]],template:function(e,r){if(e&1&&(a(0,"div",0)(1,"h5",1),l(2,"Agregar familia productora"),o(),a(3,"form",2)(4,"div",3)(5,"label",4),l(6,"Nombre / Raz\xF3n social *"),o(),v(7,"input",5)(8,"span",6),o(),a(9,"div",3)(10,"label",7),l(11,"Descripci\xF3n"),o(),a(12,"textarea",8),l(13,"      "),o()(),a(14,"div",9)(15,"div",10)(16,"p-button",11),g("click",function(){return r.cancel()}),o(),a(17,"p-button",12),g("click",function(){return r.save()}),o()()()()()),e&2){let c,y,b,I;m(3),s("formGroup",r.myForm),m(4),s("valueForm",(c=r.myForm.get("nombre"))==null?null:c.value)("errors",(y=r.myForm.get("nombre"))==null?null:y.errors),m(),s("valueForm",(b=r.myForm.get("nombre"))==null?null:b.value)("errors",(I=r.myForm.get("nombre"))==null?null:I.errors),m(4),s("autoResize",!0),m(5),s("disabled",r.myForm.invalid)}},dependencies:[E,T,q,B,D,V,j,Q,A,M,L,z]});let n=i;return n})();var Ye=(()=>{let i=class i{constructor(t,e,r,c){this.activateRouter=t,this.familiaProductoraService=e,this.router=r,this.fb=c,this.myForm=this.fb.group({nombre:["",N.required],descripcion:[""]})}ngOnInit(){this.id=Number(this.activateRouter.snapshot.paramMap.get("id")),this.id&&this.familiaProductoraService.getById(this.id).subscribe(t=>{this.myForm.get("nombre").setValue(t.nombre),this.myForm.get("descripcion").setValue(t.descripcion),this.myForm.get("nombre").markAsTouched(),this.myForm.get("descripcion").markAsTouched(),this.myForm.updateValueAndValidity()})}cancel(){this.router.navigate(["/"+d.FamiliaProductora])}save(){if(this.myForm.valid){let t={nombre:this.myForm.get("nombre").value,descripcion:this.myForm.get("descripcion").value};this.familiaProductoraService.putFamilia(this.id,t).subscribe(e=>{e&&this.cancel()})}}get formNombre(){return this.myForm.get("nombre").valueChanges.pipe()}};i.\u0275fac=function(e){return new(e||i)(u(de),u(f),u(w),u(G))},i.\u0275cmp=h({type:i,selectors:[["app-edit-familia"]],features:[x([f])],decls:18,vars:7,consts:[[1,"card"],[1,"mb-5","m-2"],[1,"p-fluid","p-formgrid","grid",3,"formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","firstname2"],["pInputText","","id","firstname2","type","text","formControlName","nombre","placeholder","Nombre / Razon social","appCustomInputError","",3,"valueForm","errors"],["customLabel","",3,"valueForm","errors"],["htmlFor","descripcionid"],["formControlName","descripcion","rows","5","cols","30","placeholder","Descripci\xF3n","pInputTextarea","",3,"autoResize"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"click"],["pRipple","","label","Guardar","icon","pi pi-check",3,"click","disabled"]],template:function(e,r){if(e&1&&(a(0,"div",0)(1,"h5",1),l(2,"Editar familia productora"),o(),a(3,"form",2)(4,"div",3)(5,"label",4),l(6,"Nombre / Razon social *"),o(),v(7,"input",5)(8,"span",6),o(),a(9,"div",3)(10,"label",7),l(11,"Descripci\xF3n"),o(),a(12,"textarea",8),l(13,"      "),o()(),a(14,"div",9)(15,"div",10)(16,"p-button",11),g("click",function(){return r.cancel()}),o(),a(17,"p-button",12),g("click",function(){return r.save()}),o()()()()()),e&2){let c,y,b,I;m(3),s("formGroup",r.myForm),m(4),s("valueForm",(c=r.myForm.get("nombre"))==null?null:c.value)("errors",(y=r.myForm.get("nombre"))==null?null:y.errors),m(),s("valueForm",(b=r.myForm.get("nombre"))==null?null:b.value)("errors",(I=r.myForm.get("nombre"))==null?null:I.errors),m(4),s("autoResize",!0),m(5),s("disabled",r.myForm.invalid)}},dependencies:[E,T,q,B,D,V,j,Q,A,M,L,z]});let n=i;return n})();var dt=[{path:"",redirectTo:"query",pathMatch:"full"},{path:`${d.Edit}/:id`,component:Ye,title:"Editar Familia Productora"},{path:d.Query,component:Je,title:"Listado de Familias Productoras"},{path:d.New,component:Xe,title:"Agregar Familia Productora"}],ci=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=U({type:i}),i.\u0275inj=K({imports:[ne,ge.forChild(dt),ce,se,Me,De,xe,Ne,Ve,je,Be,ke,ye,ue,H,Qe,Fe,we,Ae,Ge,Le,ze,Ee,Te,qe,le,be,Oe,he,H,Ce]});let n=i;return n})();export{ci as FamiliaProductoraModule};
