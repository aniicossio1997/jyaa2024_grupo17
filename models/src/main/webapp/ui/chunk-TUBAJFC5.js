import{a as X,b as Ft,c as C,d as Tt}from"./chunk-2HMGA3HY.js";import{a as ct,b as dt}from"./chunk-5FI5EUAA.js";import{a as K}from"./chunk-CL7TEWH3.js";import{a as wt,b as we}from"./chunk-47TK7PFT.js";import{a as De,b as Dt}from"./chunk-74WSQMHU.js";import{a as ut,b as ft}from"./chunk-UHWMFGLO.js";import{a as Se,b as pt}from"./chunk-676UXHSL.js";import{a as pe}from"./chunk-LHQOYPNM.js";import{A as b,B as yt,b as gt,c as vt,i as H,j as _t,l as Ce,m as ht,n as Ie,o as Ee,p as ye,q as bt,s as xt,t as St,u as Ct,v as W,w as It,x as le,y as J,z as Et}from"./chunk-N32QBCDO.js";import{a as nt,b as at,e as rt,f as ot,g as xe,i as lt,l as st}from"./chunk-MOHWG4PF.js";import{$ as I,G as We,H as F,I as Je,K as be,L as k,N as $,O as j,Q as Ke,R as de,T as A,U as q,V as Xe,W as U,X as Ye,Y as Q,Z as et,_ as tt,a as ae,ca as re,ea as Z,ha as it,ia as oe,ja as V,m as ze,pa as z,q as He,qa as mt,v as B}from"./chunk-VXQCQYAP.js";import{$ as w,$b as L,Db as fe,Eb as ge,Fb as ve,Gb as ee,Hb as l,Ib as _,Jb as T,Kb as P,Kc as he,Lb as _e,Lc as R,Oa as s,Pa as u,Pb as D,Pc as Qe,R as te,Rb as h,S as $e,Uc as Ze,W as ie,_b as G,aa as qe,eb as v,fb as ne,gb as c,ia as x,ja as S,jb as Ue,pb as n,qb as a,r as ue,rb as d,sb as Re,tb as ke,vb as y,xb as g,yb as f}from"./chunk-MPDHWXUF.js";var M=(()=>{let r=class r{constructor(e){this.http=e,this.API_URL=oe.API_URL+"elaboraciones"}getAll(e){return this.http.get(this.API_URL+(e?"?recetaId="+e:""))}detail(e){return this.http.get(this.API_URL+"/"+e)}create(e){return this.http.post(this.API_URL,e)}edit(e,t){return this.http.put(this.API_URL+"/"+e,t)}delete(e){return this.http.delete(this.API_URL+"/"+e).pipe(ue(t=>t))}ngOnDestroy(){}};r.\u0275fac=function(t){return new(t||r)(ie(ae))},r.\u0275prov=te({token:r,factory:r.\u0275fac});let i=r;return i})();var Y=(()=>{let r=class r{constructor(e){this.http=e,this.API_URL=oe.API_URL+"notas"}create(e){return this.http.post(this.API_URL,e)}delete(e){return this.http.delete(this.API_URL+"/"+e).pipe(ue(t=>t))}ngOnDestroy(){}};r.\u0275fac=function(t){return new(t||r)(ie(ae))},r.\u0275prov=te({token:r,factory:r.\u0275fac});let i=r;return i})();var $t=["ingresosDropdown"];var Nt=(()=>{let r=class r{constructor(e,t,m,p,E){this.ref=e,this.fb=t,this.toastr=m,this.notaService=p,this.config=E,this.msjError=void 0,this.selectedIngresos=[],this.submited=!1,this.initForm()}ngOnInit(){this.callback=this.config.data.callback,this.elaboracionId=this.config.data.elaboracionId}cancel(){this.ref.close()}save(){let t={descripcion:this.myForm.getRawValue().descripcion,elaboracionId:this.elaboracionId};this.notaService.create(t).subscribe(()=>{this.toastr.success("Se ha a\xF1adido la nota!"),this.callback(),this.ref.close()})}initForm(){this.myForm=this.fb.group({descripcion:new de("",[k.minLength(3),k.maxLength(256)])})}};r.\u0275fac=function(t){return new(t||r)(u(J),u(Q),u(V),u(Y),u(le))},r.\u0275cmp=w({type:r,selectors:[["app-ingreso-cambiar-nota"]],viewQuery:function(t,m){if(t&1&&fe($t,5),t&2){let p;ge(p=ve())&&(m.ingresosDropdown=p.first)}},features:[D([b,Y])],decls:13,vars:5,consts:[[1,"p-fluid","p-formgrid","grid",3,"ngSubmit","formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","descripcion"],[1,"text-danger"],["pInputText","","id","descripcion","type","text","placeholder","Escribe una nota","formControlName","descripcion","appCustomInputError","",3,"errors"],["customLabel","",3,"valueForm","errors"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"onClick"],["pRipple","","label","Aceptar","icon","pi pi-check","type","submit",3,"disabled"]],template:function(t,m){if(t&1&&(n(0,"div")(1,"form",0),g("ngSubmit",function(){return m.save()}),n(2,"div",1)(3,"label",2),l(4,"Nota "),n(5,"span",3),l(6,"*"),a()(),d(7,"textarea",4)(8,"span",5),a(),n(9,"div",6)(10,"div",7)(11,"p-button",8),g("onClick",function(){return m.cancel()}),a(),d(12,"p-button",9),a()()()()),t&2){let p,E,N;s(),c("formGroup",m.myForm),s(6),c("errors",(p=m.myForm.get("descripcion"))==null?null:p.errors),s(),c("valueForm",(E=m.myForm.get("descripcion"))==null?null:E.value)("errors",(N=m.myForm.get("descripcion"))==null?null:N.errors),s(4),c("disabled",m.myForm.invalid)}},dependencies:[F,z,A,be,$,j,q,U,rt,ot],encapsulation:2});let i=r;return i})();var Pe=(()=>{let r=class r{constructor(e){this.http=e,this.API_URL=oe.API_URL+"estadoelaboracion"}create(e){return this.http.post(this.API_URL,e)}ngOnDestroy(){}};r.\u0275fac=function(t){return new(t||r)(ie(ae))},r.\u0275prov=te({token:r,factory:r.\u0275fac});let i=r;return i})();function Ut(i,r){if(i&1&&(n(0,"span",11),l(1),a()),i&2){let o=f();s(),T(" ",o.msjError!=null?o.msjError:""," ")}}var Rt=(()=>{let r=class r{constructor(e,t,m,p,E,N){this.dialogService=e,this.ref=t,this.fb=m,this.config=p,this.toastr=E,this.estadoElaboracionService=N,this.estados=Object.keys(C),this.msjError=void 0,this.currentDate=new Date,this.loading=!1,this.initForm()}ngOnInit(){this.elaboracionId=this.config.data.elaboracionId,this.estadoInicial=this.config.data.estadoInicial,this.callback=this.config.data.callback,this.myForm.get("estado").setValue(this.estadoInicial),this.myForm.get("estado").valueChanges.subscribe(e=>{e!=this.msjError&&(this.msjError=void 0)})}cancel(){this.ref.close()}save(){if(this.myForm.get("estado").value==this.estadoInicial){this.msjError="Debes asignar un estado distinto al actual";return}this.msjError=void 0,this.loading=!0,this.estadoElaboracionService.create({estado:this.myForm.get("estado").value,elaboracionId:this.elaboracionId,fecha:this.myForm.get("fecha").value}).subscribe(e=>{this.loading=!1,this.toastr.success("Se ha actualizado el estado de la elaboraci\xF3n!"),this.cancel(),this.callback()})}initForm(){this.myForm=this.fb.group({estado:["",k.required],fecha:[new Date,k.required]})}};r.\u0275fac=function(t){return new(t||r)(u(b),u(J),u(Q),u(le),u(V),u(Pe))},r.\u0275cmp=w({type:r,selectors:[["app-elaboracion-cambiar-estado"]],features:[D([b,Pe])],decls:15,vars:11,consts:[[1,"p-fluid","p-formgrid","grid",3,"formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","estado"],["placeholder","Selecciona un estado","formControlName","estado",3,"options","autoDisplayFirst","value"],["class","p-2 text-danger",4,"ngIf"],["htmlFor","descripcionid"],["inputId","calendar-24h","formControlName","fecha","dateFormat","dd/mm/yy ",1,"min-w-full",3,"showTime","maxDate","hourFormat","showIcon"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"click"],["pRipple","","label","Guardar","icon","pi pi-check",3,"click","disabled","loading"],[1,"p-2","text-danger"]],template:function(t,m){t&1&&(n(0,"div")(1,"form",0)(2,"div",1)(3,"label",2),l(4,"Estados *"),a(),d(5,"p-dropdown",3),v(6,Ut,2,1,"span",4),a(),n(7,"div",1)(8,"label",5),l(9,"Fecha "),a(),d(10,"p-calendar",6),a(),n(11,"div",7)(12,"div",8)(13,"p-button",9),g("click",function(){return m.cancel()}),a(),n(14,"p-button",10),g("click",function(){return m.save()}),a()()()()()),t&2&&(s(),c("formGroup",m.myForm),s(4),c("options",m.estados)("autoDisplayFirst",!1)("value",m.myForm.get("estado")),s(),c("ngIf",m.msjError!=null),s(4),c("showTime",!0)("maxDate",m.currentDate)("hourFormat",24)("showIcon",!0),s(4),c("disabled",m.myForm.invalid)("loading",m.loading))},dependencies:[R,F,H,A,$,j,q,U,gt],encapsulation:2});let i=r;return i})();var ce=()=>({"min-width":"50rem"}),Oe=()=>[5,10,20],Ht=()=>["autor.username","fecha","descripcion"],Wt=()=>["estado","fecha","autor.username"],Jt=()=>["cantidad","ingrediente","ingresoCodigo","ingresoFecha","unidadMedida","familiaProductora","tipo"];function Kt(i,r){if(i&1){let o=y();n(0,"div",19)(1,"h5",20),l(2,"Notas"),a(),n(3,"p-button",21),g("click",function(){x(o);let t=f(2);return S(t.openNotaForm())}),a()()}}function Xt(i,r){i&1&&(n(0,"tr")(1,"th",22),l(2,"Fecha"),d(3,"p-sortIcon",23),a(),n(4,"th",24),l(5," Autor "),d(6,"p-sortIcon",25),a(),n(7,"th",26),l(8," Nota "),d(9,"p-sortIcon",27),a(),d(10,"th",28),a())}function Yt(i,r){if(i&1){let o=y();n(0,"tr")(1,"td"),l(2),G(3,"dateTransformPipe"),a(),n(4,"td"),l(5),a(),n(6,"td")(7,"b"),l(8),a()(),n(9,"td",28)(10,"p-button",29),g("onClick",function(){let t=x(o).$implicit,m=f(2);return S(m.deleteNota(t))}),a()()()}if(i&2){let o=r.$implicit;s(2),T(" ",L(3,5,o.fecha)," "),s(3),_(o.autor.username),s(3),_(o.descripcion),s(2),c("rounded",!0)("text",!0)}}function ei(i,r){i&1&&(n(0,"tr")(1,"td",30),l(2," A\xFAn no se han agregado notas "),a()()),i&2&&(s(),ne("colspan",6))}function ti(i,r){if(i&1){let o=y();n(0,"h5"),l(1,"Historial de Estados"),a(),n(2,"div",19)(3,"span",31),d(4,"i",32),n(5,"input",33),g("input",function(t){x(o),f();let m=ee(40);return S(m.filterGlobal(t.target.value,"contains"))}),a()(),n(6,"p-button",34),g("click",function(){x(o);let t=f(2);return S(t.openCambiarEstado())}),a()()}}function ii(i,r){i&1&&(n(0,"tr")(1,"th",22),l(2," Fecha Inicio"),d(3,"p-sortIcon",23),a(),n(4,"th",24),l(5," Autor "),d(6,"p-sortIcon",25),a(),n(7,"th",35),l(8," Estado "),d(9,"p-sortIcon",36),a()())}function ni(i,r){if(i&1&&(n(0,"tr")(1,"td"),l(2),G(3,"dateTransformPipe"),a(),n(4,"td"),l(5),a(),n(6,"td"),d(7,"p-tag",37),a()()),i&2){let o=r.$implicit,e=f(2);s(2),T(" ",L(3,4,o.fecha)," "),s(3),_(o.autor.username),s(2),c("value",o.estado)("severity",e.getEstadoSeverity(o.estado))}}function ai(i,r){i&1&&(n(0,"tr")(1,"td",30),l(2," No se encontraron resultados "),a()()),i&2&&(s(),ne("colspan",6))}function ri(i,r){if(i&1){let o=y();n(0,"div",19)(1,"h5"),l(2,"Consumos de Insumos y Materias Primas"),a(),n(3,"span",31),d(4,"i",32),n(5,"input",33),g("input",function(t){x(o),f();let m=ee(47);return S(m.filterGlobal(t.target.value,"contains"))}),a()()()}}function oi(i,r){i&1&&(n(0,"tr")(1,"th",38),l(2," Ingrediente"),d(3,"p-sortIcon",39),a(),n(4,"th",40),l(5," Cantidad "),d(6,"p-sortIcon",41),a(),n(7,"th",42),l(8,"Tipo "),d(9,"p-sortIcon",43),a(),n(10,"th",44),l(11," Familia Productora "),d(12,"p-sortIcon",45),a(),n(13,"th",46),l(14," C\xF3digo "),d(15,"p-sortIcon",47),a(),n(16,"th",48),l(17," Fecha Ingreso "),d(18,"p-sortIcon",49),a()())}function li(i,r){if(i&1&&(n(0,"tr")(1,"td"),l(2),a(),n(3,"td"),l(4),a(),n(5,"td")(6,"b"),l(7),a()(),n(8,"td"),l(9),a(),n(10,"td"),l(11),a(),n(12,"td"),l(13),G(14,"dateTransformPipe"),a()()),i&2){let o=r.$implicit;s(2),T(" ",o.ingrediente," "),s(2),P("",o.cantidad," ",o.unidadMedida,""),s(3),_(o.tipo),s(2),_(o.familiaProductora),s(2),_(o.ingresoCodigo),s(2),_(L(14,7,o.ingresoFecha))}}function si(i,r){i&1&&(n(0,"tr")(1,"td",30),l(2," No se encontraron resultados "),a()()),i&2&&(s(),ne("colspan",6))}function mi(i,r){if(i&1&&(n(0,"div",5)(1,"div",6)(2,"div",7),l(3,"Detalle de elaboraci\xF3n"),a(),n(4,"div",8)(5,"div",9),l(6," Receta: "),n(7,"b"),l(8),a()(),n(9,"div",9),l(10," C\xF3digo: "),n(11,"b"),l(12),a()(),n(13,"div",9),l(14," Autor: "),n(15,"b"),l(16),a()(),n(17,"div",9),l(18," Estado: "),d(19,"p-tag",10),a(),n(20,"div",9),l(21," Cantidad: "),n(22,"b"),l(23),a()(),n(24,"div",9),l(25," Actualizado: "),n(26,"b"),l(27),G(28,"dateTransformPipe"),a()()()(),n(29,"div"),d(30,"p-divider"),n(31,"div",11)(32,"p-table",12,0),v(34,Kt,4,0,"ng-template",13)(35,Xt,11,0,"ng-template",14)(36,Yt,11,7,"ng-template",15)(37,ei,3,1,"ng-template",16),a()(),n(38,"div",17)(39,"p-table",18,1),v(41,ti,7,0,"ng-template",13)(42,ii,10,0,"ng-template",14)(43,ni,8,6,"ng-template",15)(44,ai,3,1,"ng-template",16),a()(),n(45,"div",17)(46,"p-table",18,2),v(48,ri,6,0,"ng-template",13)(49,oi,19,0,"ng-template",14)(50,li,15,9,"ng-template",15)(51,si,3,1,"ng-template",16),a()()()()),i&2){let o=f();s(8),_(o.elaboracionDetalle.receta.nombre),s(4),_(o.elaboracionDetalle.codigo),s(4),_(o.autor),s(3),c("value",o.elaboracionDetalle.estado.estado)("severity",o.getEstadoSeverity(o.elaboracionDetalle.estado.estado)),s(4),P("",o.elaboracionDetalle.cantidad," ",o.elaboracionDetalle.cantidad>1?"UNIDADES":"UNIDAD",""),s(4),_(L(28,32,o.elaboracionDetalle.estado.fecha)),s(5),c("value",o.elaboracionDetalle.notas)("tableStyle",h(34,ce))("paginator",!0)("alwaysShowPaginator",!1)("rows",5)("tableStyle",h(35,ce))("rowsPerPageOptions",h(36,Oe))("globalFilterFields",h(37,Ht)),s(7),c("value",o.elaboracionDetalle.estados)("tableStyle",h(38,ce))("paginator",!0)("rows",5)("tableStyle",h(39,ce))("alwaysShowPaginator",!1)("rowsPerPageOptions",h(40,Oe))("globalFilterFields",h(41,Wt)),s(7),c("value",o.consumos)("tableStyle",h(42,ce))("paginator",!0)("rows",5)("tableStyle",h(43,ce))("alwaysShowPaginator",!1)("rowsPerPageOptions",h(44,Oe))("globalFilterFields",h(45,Jt))}}var kt=(()=>{let r=class r{constructor(e,t,m,p,E,N,Ne){this.elaboracionService=e,this.router=t,this.toastr=m,this.activatedRoute=p,this.dialogService=E,this.confirmationDialogService=N,this.notaService=Ne,this.loading=!1,this.consumos=[],this.id=Number(this.activatedRoute.snapshot.paramMap.get("id"))}ngOnInit(){this.init()}get autor(){return this.elaboracionDetalle?this.elaboracionDetalle.estados[0]?.autor.nombre:""}openNotaForm(){let e=this.init.bind(this);this.ref=this.dialogService.open(Nt,{header:"Agregar Nota",width:"50vw",breakpoints:{"960px":"75vw","640px":"90vw"},closable:!1,contentStyle:{overflow:"visible"},data:{callback:e,elaboracionId:this.elaboracionDetalle.id}}),this.ref.onClose.subscribe(t=>{})}openCambiarEstado(){let e=this.init.bind(this);this.ref=this.dialogService.open(Rt,{header:"Cambiar estado de la elaboraci\xF3n",width:"30vw",breakpoints:{"960px":"75vw","640px":"90vw"},closable:!1,contentStyle:{overflow:"visible"},data:{callback:e,elaboracionId:this.elaboracionDetalle.id,estadoInicial:this.elaboracionDetalle.estado.estado}}),this.ref.onClose.subscribe(t=>{})}getEstadoSeverity(e){switch(e){case C.ENTREGADO_COMPLETO:return"success";case C.ENTREGADO_PARCIAL:return"primary";case C.EN_DEPOSITO:return"warning";case C.EN_PROCESO:return"info"}return""}init(){this.elaboracionService.detail(this.id).subscribe(e=>{this.elaboracionDetalle=e;let t=e.consumosMateriaPrima.map(p=>({cantidad:p.cantidad,unidadMedida:p.unidadMedida,ingresoCodigo:p.ingresoMateriaPrima.codigo,tipo:"MATERIA PRIMA",ingrediente:p.ingresoMateriaPrima.materiaPrima.nombre,familiaProductora:p.ingresoMateriaPrima.familiaProductora.nombre,ingresoFecha:p.ingresoMateriaPrima.fecha})),m=e.consumosInsumo.map(p=>({cantidad:p.cantidad,unidadMedida:p.insumo.unidadMedida,tipo:"INSUMO",ingresoCodigo:null,ingrediente:p.insumo.nombre,familiaProductora:null,ingresoFecha:null}));this.consumos=[...t,...m]})}deleteNota(e){let t=this.init.bind(this);this.confirmationDialogService.confirmDelete("\xBFEst\xE1 seguro que desea eliminar la nota?",()=>{console.log(e),this.notaService.delete(e.id).subscribe(()=>{this.toastr.success("Se ha eliminado la nota!"),t()})})}back(){this.router.navigate(["/"+I.Elaboracion,I.Query])}};r.\u0275fac=function(t){return new(t||r)(u(M),u(Z),u(V),u(re),u(b),u(pe),u(Y))},r.\u0275cmp=w({type:r,selectors:[["elaboracion-detail"]],features:[D([M,b,pe,Y])],decls:2,vars:1,consts:[["dt2",""],["dt",""],["dt3",""],["pRipple","","label","Volver","icon","pi pi-arrow-left","styleClass","mb-2","severity","secondary",3,"click"],["class","card relative",4,"ngIf"],[1,"card","relative"],[1,"mt-2"],[1,"mb-4","font-bold"],[1,"grid","text-lg"],[1,"col-6"],[1,"ml-1",3,"value","severity"],[1,"bg-item","border-round"],[3,"value","tableStyle","paginator","alwaysShowPaginator","rows","rowsPerPageOptions","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"mt-3","bg-item","border-round"],[3,"value","tableStyle","paginator","rows","alwaysShowPaginator","rowsPerPageOptions","globalFilterFields"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],["pRipple","","label","Agregar Nota","icon","pi pi-plus","styleClass","mb-2","severity","primary",3,"click"],["pSortableColumn","fecha"],["field","fecha"],["pSortableColumn","autor.username"],["field","autor.username"],["pSortableColumn","descripcion"],["field","descripcion"],[2,"width","80px"],["pRipple","","icon","pi pi-trash","severity","secondary",3,"onClick","rounded","text"],[1,"text-center","py-4"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["pRipple","","label","Cambiar estado","icon","pi pi-tag","styleClass","mb-2","severity","primary",3,"click"],["pSortableColumn","estado"],["field","estado"],[3,"value","severity"],["pSortableColumn","ingrediente"],["field","ingrediente"],["pSortableColumn","cantidad"],["field","cantidad"],["pSortableColumn","tipo"],["field","tipo"],["pSortableColumn","familiaProductora"],["field","familiaProductora"],["pSortableColumn","ingresoCodigo"],["field","ingresoCodigo"],["pSortableColumn","ingresoFecha"],["field","ingresoFecha"]],template:function(t,m){t&1&&(n(0,"p-button",3),g("click",function(){return m.back()}),a(),v(1,mi,52,46,"div",4)),t&2&&(s(),c("ngIf",!!m.elaboracionDetalle))},dependencies:[R,Ie,B,Ee,ye,F,W,z,De,xe]});let i=r;return i})();var ui=["ingresosDropdown"],fi=()=>({height:"2.5rem"});function gi(i,r){if(i&1&&(n(0,"div",17)(1,"div"),l(2),a(),n(3,"div",18),l(4),d(5,"p-tag",19),a()()),i&2){let o=r.$implicit,e=f(2);s(2),_(o.codigo),s(2),P(" disponible (",o.cantidad," ",e.materiaPrima.unidadMedida,") "),s(),c("value",o.currentState.nombre)("severity",e.getSeverity(o.currentState.nombre))}}function vi(i,r){i&1&&d(0,"i",20)}function _i(i,r){if(i&1){let o=y();n(0,"div",21)(1,"span")(2,"b"),l(3),a(),d(4,"p-tag",19),a(),n(5,"div",22)(6,"span",18),l(7),a(),n(8,"p-inputGroup",23),d(9,"p-inputNumber",24),n(10,"p-inputGroupAddon"),l(11),a()(),n(12,"p-button",25),g("onClick",function(){let t=x(o).$implicit,m=f(2);return S(m.onDeleteIngreso(t.id))}),a()()()}if(i&2){let o=r.$implicit,e=r.index,t=f(2);s(3),_(o.codigo),s(),c("value",o.currentState.nombre)("severity",t.getSeverity(o.currentState.nombre)),s(3),P(" (disponible: ",o.cantidad," ",t.materiaPrima.unidadMedida,")"),s(),Ue(h(13,fi)),s(),c("maxFractionDigits",2)("formControlName",e)("max",o.cantidad),s(2),_(t.materiaPrima.unidadMedida),s(),c("rounded",!0)("text",!0)}}function hi(i,r){if(i&1&&(n(0,"div",26),l(1),a()),i&2){let o=r.ngIf;s(),T(" ",o," ")}}function bi(i,r){if(i&1){let o=y();n(0,"div")(1,"form",2),g("ngSubmit",function(){x(o);let t=f();return S(t.save())}),n(2,"div",3),l(3," Por favor, selecciona los ingresos y cantidades correspondientes a las materias primas utilizados en la elaboraci\xF3n. "),a(),n(4,"div",4)(5,"label",5),l(6,"Ingresos"),a(),n(7,"p-dropdown",6,0),g("onChange",function(t){x(o);let m=f();return S(m.onSelectIngreso(t))}),v(9,gi,6,5,"ng-template",7),a()(),n(10,"div",8),l(11),v(12,vi,1,0,"i",9),a(),n(13,"div",10),v(14,_i,13,14,"div",11),a(),v(15,hi,2,1,"div",12),n(16,"div",13)(17,"div",14)(18,"p-button",15),g("onClick",function(){x(o);let t=f();return S(t.cancel())}),a(),d(19,"p-button",16),a()()()()}if(i&2){let o=f();s(),c("formGroup",o.myForm),s(6),c("options",o.materiaPrima.ingresos)("autoDisplayFirst",!1)("filter",!0)("showClear",!0),s(4),_e(" ",o.getMin(o.cantidadRequerida,o.cantidadTotalSeleccionada)," / ",o.cantidadRequerida," ",o.materiaPrima.unidadMedida," "),s(),c("ngIf",o.cantidadRequerida<=o.materiaPrima.totalCantidadDisponible),s(2),c("ngForOf",o.selectedIngresos),s(),c("ngIf",o.getErrorMessage())}}function jt(i){return i.value>0?null:{greaterThanZero:!0}}var At=(()=>{let r=class r{constructor(e,t,m,p){this.ref=e,this.fb=t,this.config=m,this.materiaPrimaService=p,this.msjError=void 0,this.selectedIngresos=[],this.submited=!1,this.initForm()}ngOnInit(){this.materiaPrimaId=this.config.data.materiaPrima.id,this.cantidadRequerida=this.config.data.cantidadRequerida;let e=this.config.data.initialData??[];this.callback=this.config.data.callback,this.materiaPrimaId&&this.materiaPrimaService.getById(this.materiaPrimaId).subscribe(t=>{this.materiaPrima=t,e.forEach(m=>{let p=this.materiaPrima.ingresos.find(E=>E.id==m.ingresoMateriaPrimaId);p&&(this.selectedIngresos.push(p),this.getIngresosFormArr().push(new de(m.cantidad,jt)))})})}onSelectIngreso(e){let t=e.value;t&&(this.selectedIngresos.find(m=>m.id==t.id)||(this.selectedIngresos.push(t),this.getIngresosFormArr().push(new de(0,jt))),this.ingresosDropdown.clear())}onDeleteIngreso(e){let t=this.selectedIngresos.findIndex(m=>m.id==e);t>-1&&(this.selectedIngresos.splice(t,1),this.getIngresosFormArr().removeAt(t))}getIngresosFormArr(){return this.myForm.get("cantidades")}getMin(e,t){return Math.min(e,t)}cancel(){this.ref.close()}save(){let e=this.getIngresosFormArr().getRawValue(),t=this.selectedIngresos.map((m,p)=>({ingresoMateriaPrimaId:m.id,cantidad:e[p]}));this.submited=!0,!this.getErrorMessage()&&(console.log({materiaPrimaId:this.materiaPrimaId,data:t}),this.callback(this.materiaPrimaId,t),this.ref.close())}get cantidadTotalSeleccionada(){return this.getIngresosFormArr().getRawValue().reduce((t,m)=>t+m,0)}getErrorMessage(){return this.submited?this.cantidadTotalSeleccionada>this.cantidadRequerida?"La cantidad seleccionada supera la cantidad requerida, por favor ajusta las cantidades.":this.cantidadTotalSeleccionada<this.cantidadRequerida?"La cantidad seleccionada no cubre la cantidad requerida, por favor ajusta las cantidades.":null:null}getSeverity(e){switch(e){case we.CAMARA_FRIO:return"primary";case we.ESTANTE:return"warning";case we.FREEZER:return"info"}}initForm(){this.myForm=this.fb.group({cantidades:new Ye([],k.required)})}};r.\u0275fac=function(t){return new(t||r)(u(J),u(Q),u(le),u(K))},r.\u0275cmp=w({type:r,selectors:[["app-ingreso-cambiar-estado"]],viewQuery:function(t,m){if(t&1&&fe(ui,5),t&2){let p;ge(p=ve())&&(m.ingresosDropdown=p.first)}},features:[D([b,K])],decls:1,vars:1,consts:[["ingresosDropdown",""],[4,"ngIf"],[1,"p-fluid","p-formgrid","grid",3,"ngSubmit","formGroup"],[1,"col-12","md:col-12","text-400"],[1,"field","col-12","md:col-12"],["htmlFor","estado"],["placeholder","Buscar ingresos","optionLabel","codigo","filterPlaceholder","C\xF3digo de ingreso","filterBy","codigo",3,"onChange","options","autoDisplayFirst","filter","showClear"],["pTemplate","item"],[1,"ml-auto"],["class","fa-solid fa-check text-success",4,"ngIf"],["formArrayName","cantidades",1,"field","col-12","flex","flex-column","gap-1"],["class","shadow-1 px-2 pl-2 pr-1 flex justify-content-between align-items-center border-round-md bg-item",4,"ngFor","ngForOf"],["class","text-danger p-3",4,"ngIf"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"onClick"],["pRipple","","label","Aceptar","icon","pi pi-check","type","submit"],[1,"flex","align-items-center","justify-content-between","gap-2"],[1,"text-sm"],[1,"ml-2",3,"value","severity"],[1,"fa-solid","fa-check","text-success"],[1,"shadow-1","px-2","pl-2","pr-1","flex","justify-content-between","align-items-center","border-round-md","bg-item"],[1,"flex","gap-2","align-items-center"],[1,"w-10rem"],["placeholder","Cantidad","size","2",3,"maxFractionDigits","formControlName","max"],["pRipple","","icon","pi pi-trash","severity","secondary",3,"onClick","rounded","text"],[1,"text-danger","p-3"]],template:function(t,m){t&1&&v(0,bi,20,11,"div",1),t&2&&c("ngIf",m.materiaPrima)},dependencies:[he,R,B,F,W,H,A,$,j,q,U,Xe,Ce,Se,ut],encapsulation:2});let i=r;return i})();var Si=()=>({width:"100%"});function Ci(i,r){if(i&1&&d(0,"p-tag",29),i&2){let o=r.$implicit,e=f();c("value",o)("severity",e.getEstadoSeverity(o))}}function Ii(i,r){if(i&1&&d(0,"p-tag",29),i&2){let o=r.$implicit,e=f();c("value",o)("severity",e.getEstadoSeverity(o))}}function Ei(i,r){i&1&&d(0,"i",38)}function yi(i,r){if(i&1&&(n(0,"div",39),l(1," No cuentas con las cantidades necesarias "),n(2,"div",40),l(3),a()()),i&2){let o=f(2).$implicit;s(3),P(" (disponible: ",o.insumo.cantidadDisponible," ",o.insumo.unidadMedida,") ")}}function wi(i,r){if(i&1&&(n(0,"div",41),l(1),a()),i&2){let o=f(2).$implicit;s(),P(" disponible: ",o.insumo.cantidadDisponible," ",o.insumo.unidadMedida," ")}}function Di(i,r){if(i&1&&(Re(0),n(1,"div",32)(2,"div")(3,"h6",33),l(4),a()(),n(5,"div",34)(6,"div"),l(7),v(8,Ei,1,0,"i",35),a(),v(9,yi,4,2,"div",36)(10,wi,2,2,"div",37),a()(),ke()),i&2){let o=r.ngIf,e=f().$implicit;s(4),_(e.insumo.nombre),s(3),P("",o," ",e.insumo.unidadMedida," "),s(),c("ngIf",o<=e.insumo.cantidadDisponible),s(),c("ngIf",o>e.insumo.cantidadDisponible),s(),c("ngIf",o<=e.insumo.cantidadDisponible)}}function Fi(i,r){if(i&1&&(n(0,"div",30),v(1,Di,11,6,"ng-container",31),a()),i&2){let o,e=r.$implicit,t=f();s(),c("ngIf",(((o=t.form.get("cantidad"))==null?null:o.value)*e.cantidad).toFixed(1))}}function Ti(i,r){i&1&&d(0,"i",38)}function Pi(i,r){if(i&1&&(n(0,"div",39),l(1," No cuentas con las cantidades necesarias "),n(2,"div",40),l(3),a()()),i&2){let o=f(2).$implicit;s(3),P(" (disponible: ",o.materiaPrima.totalCantidadDisponible," ",o.materiaPrima.unidadMedida,") ")}}function Mi(i,r){if(i&1&&(n(0,"div",46),l(1),a()),i&2){let o=f(2).$implicit;s(),P(" disponible: ",o.materiaPrima.totalCantidadDisponible," ",o.materiaPrima.unidadMedida," ")}}function Ni(i,r){if(i&1){let o=y();Re(0),n(1,"div",32)(2,"div")(3,"h6",33),l(4),a()(),n(5,"div",43)(6,"div",34)(7,"div"),l(8),v(9,Ti,1,0,"i",35),a(),v(10,Pi,4,2,"div",36)(11,Mi,2,2,"div",44),a(),n(12,"p-button",45),g("click",function(){x(o);let t=f().$implicit,m=f();return S(m.openSelectorIngresos(t))}),a()()(),ke()}if(i&2){let o=r.ngIf,e=f().$implicit,t=f();s(4),_(e.materiaPrima.nombre),s(4),_e(" ",t.getMin(t.consumosMateriaPrima.get(e.materiaPrima.id)?o:0,e.materiaPrima.totalCantidadDisponible)," / ",o," ",e.materiaPrima.unidadMedida," "),s(),c("ngIf",t.consumosMateriaPrima.get(e.materiaPrima.id)),s(),c("ngIf",o>e.materiaPrima.totalCantidadDisponible),s(),c("ngIf",o<=e.materiaPrima.totalCantidadDisponible)}}function Ri(i,r){if(i&1&&(n(0,"div",42),v(1,Ni,13,7,"ng-container",31),a()),i&2){let o=r.$implicit,e=f();s(),c("ngIf",e.getCantidad(o))}}var Vt=(()=>{let r=class r{constructor(e,t,m,p,E,N,Ne,Bt){this.fb=e,this.router=t,this.recetaService=m,this.materiasPrimaService=p,this.activatedRoute=E,this.dialogService=N,this.elaboracionService=Ne,this.toastr=Bt,this.detalleMateriaPrima=new Map,this.consumosMateriaPrima=new Map,this.unidadMedidaArray=Object.keys(wt),this.estados=Object.keys(C),this.loading=!1,this.initForm(),this.consumosMateriaPrima=new Map,this.recetaId=Number(this.activatedRoute.snapshot.paramMap.get("id"))}ngOnInit(){this.recetaService.detail(this.recetaId).subscribe(e=>{this.receta=e,this.insumos=e.ingredientes.filter(t=>t.insumo!=null),this.materiasPrimas=e.ingredientes.filter(t=>t.materiaPrima!=null),this.materiasPrimas.forEach(t=>{this.materiasPrimaService.getById(t.materiaPrima.id).subscribe(m=>{this.detalleMateriaPrima.set(m.id,m)})})})}initForm(){this.form=this.fb.group({cantidad:[1,k.required],estado:C.EN_PROCESO,nota:[""]})}cancel(){this.router.navigate(["/"+I.Elaboracion])}save(){let e=this.form.getRawValue(),t=Array.from(this.consumosMateriaPrima.values()),m={cantidad:e.cantidad,estado:e.estado,fecha:new Date,nota:e.nota,recetaId:this.recetaId,consumoMateriasPrimas:t.flat()};this.loading=!0,this.elaboracionService.create(m).subscribe(p=>{this.loading=!1,this.toastr.success("Se ha creado la elaboraci\xF3n!"),this.router.navigate(["/"+I.Elaboracion+"/"+I.Detail+"/"+p.id])})}getMin(e,t){return Math.min(e,t)}getCantidad(e){return(e.cantidad*(this.form.get("cantidad")?.value??0)).toFixed(1)}onIngresosSelected(e,t){this.consumosMateriaPrima.set(e,t)}openSelectorIngresos(e){let t=this.onIngresosSelected.bind(this);this.ref=this.dialogService.open(At,{header:"Seleccionar ingresos de "+e.materiaPrima.nombre,width:"50vw",closable:!1,contentStyle:{overflow:"visible"},data:{materiaPrima:e.materiaPrima,cantidadRequerida:this.getCantidad(e),initialData:this.consumosMateriaPrima.get(e.materiaPrima.id),callback:t}}),this.ref.onClose.subscribe(m=>{})}getEstadoSeverity(e){switch(e){case C.ENTREGADO_COMPLETO:return"success";case C.ENTREGADO_PARCIAL:return"primary";case C.EN_DEPOSITO:return"warning";case C.EN_PROCESO:return"info"}return""}};r.\u0275fac=function(t){return new(t||r)(u(Q),u(Z),u(X),u(K),u(re),u(b),u(M),u(V))},r.\u0275cmp=w({type:r,selectors:[["app-insumos-new"]],features:[D([X,K,b,M])],decls:47,vars:15,consts:[[1,"card",2,"width","80%"],[1,"mb-5"],[1,"p-fluid","p-formgrid","grid",3,"formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","recetaId",1,"mr-3"],["id","recetaId","type","text","pInputText","",1,"font-bold",3,"disabled","value"],[1,"field","col-12","md:col-4"],["htmlFor","unidadMedida"],[1,"text-danger"],["placeholder","Ingrese una cantidad","formControlName","cantidad",3,"value"],[1,"field","col-12","md:col-8"],["htmlFor","nota",1,"mr-3"],["id","nota","type","text","placeholder","Nota Adicional","pInputText","","formControlName","nota",3,"disabled","value"],["htmlFor","estado"],["placeholder","Selecciona un estado","formControlName","estado",3,"options","autoDisplayFirst","value"],["pTemplate","selectedItem"],["pTemplate","item"],["styleClass","w-full",3,"ngStyle"],[1,"grid","w-full","col-12"],[1,"field","col-12"],["htmlFor","familiaPrimaId",1,"mr-3","text-lg","font-bold"],[1,"flex","flex-column","gap-1","mt-2"],["class","shadow-1 p-2 px-3 border-round-md border-200 border-1 bg-item",4,"ngFor","ngForOf"],[1,"flex","justify-content-between"],[1,"mr-3","text-lg","font-bold"],["class","shadow-1 p-3 border-round-md border-200 border-1 bg-item",4,"ngFor","ngForOf"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"click"],["pRipple","","label","Guardar","icon","pi pi-check",3,"click","loading","disabled"],[3,"value","severity"],[1,"shadow-1","p-2","px-3","border-round-md","border-200","border-1","bg-item"],[4,"ngIf"],[1,"flex","justify-content-between","align-items-center","flex-wrap"],[1,"mb-2"],[1,"flex","flex-column","align-items-end"],["class","fa-solid fa-check text-success",4,"ngIf"],["class","flex align-items-end text-danger flex-wrap text-sm",4,"ngIf"],["class","text-success text-sm",4,"ngIf"],[1,"fa-solid","fa-check","text-success"],[1,"flex","align-items-end","text-danger","flex-wrap","text-sm"],[1,"ml-1"],[1,"text-success","text-sm"],[1,"shadow-1","p-3","border-round-md","border-200","border-1","bg-item"],[1,"flex","flex-wrap","gap-4"],["class","text-info text-sm",4,"ngIf"],["pRipple","","label","Seleccionar Ingresos","size","small","severity","secondary",3,"click"],[1,"text-info","text-sm"]],template:function(t,m){t&1&&(n(0,"div",0)(1,"h5",1),l(2,"Nueva Elaboraci\xF3n"),a(),n(3,"form",2)(4,"div",3)(5,"label",4),l(6,"Receta: "),a(),d(7,"input",5),a(),n(8,"div",6)(9,"label",7),l(10,"Cantidad "),n(11,"span",8),l(12,"*"),a()(),n(13,"p-inputGroup"),d(14,"p-inputNumber",9),a()(),n(15,"div",10)(16,"label",11),l(17,"Nota Adicional: "),a(),d(18,"input",12),a(),n(19,"div",3)(20,"label",13),l(21,"Estado "),n(22,"span",8),l(23,"*"),a()(),n(24,"p-dropdown",14),v(25,Ci,1,2,"ng-template",15)(26,Ii,1,2,"ng-template",16),a()(),d(27,"p-divider",17),n(28,"div",3)(29,"h5"),l(30,"Ingredientes"),a(),n(31,"div",18)(32,"div",19)(33,"label",20),l(34,"Insumos"),a(),n(35,"div",21),v(36,Fi,2,1,"div",22),a()(),n(37,"div",19)(38,"div",23)(39,"label",24),l(40,"Materias Primas"),a()(),n(41,"div",21),v(42,Ri,2,1,"div",25),a()()()(),n(43,"div",19)(44,"div",26)(45,"p-button",27),g("click",function(){return m.cancel()}),a(),n(46,"p-button",28),g("click",function(){return m.save()}),a()()()()()),t&2&&(s(3),c("formGroup",m.form),s(4),c("disabled",!0)("value",m.receta==null?null:m.receta.nombre),s(7),c("value",m.form.get("cantidad")),s(4),c("disabled",!0)("value",m.form.get("nota")),s(6),c("options",m.estados)("autoDisplayFirst",!1)("value",m.form.get("estado")),s(3),c("ngStyle",h(14,Si)),s(9),c("ngForOf",m.insumos),s(6),c("ngForOf",m.materiasPrimas),s(4),c("loading",m.loading)("disabled",m.form.invalid))},dependencies:[he,R,Qe,B,F,W,z,H,A,be,$,j,q,U,De,Ce,Se],encapsulation:2});let i=r;return i})();function ki(i,r){if(i&1){let o=y();n(0,"div")(1,"form",1),g("ngSubmit",function(){x(o);let t=f();return S(t.save())}),n(2,"div",2),l(3," Por favor, selecciona la receta que deseas a elaborar para continuar. "),a(),n(4,"div",3)(5,"p-dropdown",4),g("onChange",function(t){x(o);let m=f();return S(m.onSelectReceta(t))}),a()(),n(6,"div",5)(7,"div",6)(8,"p-button",7),g("onClick",function(){x(o);let t=f();return S(t.cancel())}),a(),d(9,"p-button",8),a()()()()}if(i&2){let o=f();s(5),c("options",o.recetas)("autoDisplayFirst",!1)("filter",!0),s(4),c("disabled",!o.recetaId)}}var Ot=(()=>{let r=class r{constructor(e,t,m){this.ref=e,this.recetaService=t,this.router=m,this.recetas=[]}ngOnInit(){this.recetaService.get().subscribe(e=>{this.recetas=e})}onSelectReceta(e){this.recetaId=e.value.id}cancel(){this.ref.close()}save(){this.recetaId&&(this.router.navigate([`/${I.Elaboracion}/${I.New}/`,this.recetaId]),this.ref.close())}};r.\u0275fac=function(t){return new(t||r)(u(J),u(X),u(Z))},r.\u0275cmp=w({type:r,selectors:[["app-ingreso-cambiar-estado"]],features:[D([b,X])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"p-fluid","p-formgrid","grid",3,"ngSubmit"],[1,"col-12","md:col-12","text-400"],[1,"field","col-12","md:col-12"],["placeholder","Buscar recetas","optionLabel","nombre","filterPlaceholder","Buscar recetas","filterBy","nombre",3,"onChange","options","autoDisplayFirst","filter"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"onClick"],["pRipple","","label","Continuar","icon","pi pi-check","type","submit",3,"disabled"]],template:function(t,m){t&1&&v(0,ki,10,4,"div",0),t&2&&c("ngIf",m.recetas)},dependencies:[R,F,H,A,j,Ke],encapsulation:2});let i=r;return i})();var Gt=()=>({"min-width":"50rem"}),ji=()=>[5,10,20],Ai=()=>["codigo","receta","cantidad","autor.username"];function Vi(i,r){if(i&1){let o=y();n(0,"h2",9),l(1,"Elaboraciones"),a(),n(2,"div",10)(3,"div",11)(4,"span",12),d(5,"i",13),n(6,"input",14),g("input",function(t){x(o),f();let m=ee(2);return S(m.filterGlobal(t.target.value,"contains"))}),a()()(),n(7,"p-button",15),g("click",function(){x(o);let t=f();return S(t.openSelectorReceta())}),a()()}}function Oi(i,r){i&1&&(n(0,"tr")(1,"th"),l(2,"Acciones"),a(),n(3,"th",16),l(4," Fecha Inicio"),d(5,"p-sortIcon",17),a(),n(6,"th",18),l(7,"C\xF3digo "),d(8,"p-sortIcon",19),a(),n(9,"th",20),l(10,"Receta "),d(11,"p-sortIcon",21),a(),n(12,"th",22),l(13," Cantidad "),d(14,"p-sortIcon",23),a(),n(15,"th",24),l(16," Autor "),d(17,"p-sortIcon",25),a(),n(18,"th",26),l(19,"Estado "),d(20,"p-sortIcon",27),a(),n(21,"th",28),l(22," Actualizado"),d(23,"p-sortIcon",29),a()())}function Gi(i,r){if(i&1){let o=y();n(0,"tr")(1,"td")(2,"button",30),g("click",function(t){let m=x(o).$implicit,p=ee(4),E=f();return S(E.generateMenu(m,p,t))}),a(),d(3,"p-menu",31,1),a(),n(5,"td"),l(6),G(7,"dateTransformPipe"),a(),n(8,"td"),l(9),a(),n(10,"td")(11,"b"),l(12),a()(),n(13,"td"),l(14),a(),n(15,"td")(16,"b"),l(17),a()(),n(18,"td"),d(19,"p-tag",32),a(),n(20,"td"),l(21),G(22,"dateTransformPipe"),a()()}if(i&2){let o=r.$implicit,e=f();s(3),c("popup",!0)("model",e.itemsMenu),s(3),T(" ",L(7,10,o.fecha)," "),s(3),_(o.codigo),s(3),_(o.receta),s(2),_(o.cantidad),s(3),_(o.autor.username),s(2),c("value",o.estado.estado)("severity",e.getEstadoSeverity(o.estado.estado)),s(2),T(" ",L(22,12,o.estado.fecha)," ")}}function Li(i,r){i&1&&(n(0,"tr")(1,"td",33),l(2," No se encontraron resultados "),a()()),i&2&&(s(),ne("colspan",6))}function Bi(i,r){if(i&1&&(n(0,"div",34),l(1),a()),i&2){let o=f(),e=ee(2);s(),T(" En total hay ",e.filteredValue?e.filteredValue.length:o.elaboraciones.length," registros. ")}}var Lt=(()=>{let r=class r{constructor(e,t,m,p,E,N){this.elaboracionService=e,this.router=t,this.toastr=m,this.confirmationDialogService=p,this.activatedRoute=E,this.dialogService=N,this.elaboraciones=[],this.loading=!0,this.itemsMenu=[]}ngOnInit(){this.recetaId=Number(this.activatedRoute.snapshot.paramMap.get("id")),this.fetchAll()}fetchAll(){this.loading=!0,this.elaboracionService.getAll().subscribe(e=>{this.elaboraciones=e,this.loading=!1})}get Routes(){return{NEW:`/${I.Elaboracion}/${I.New}`}}generateMenu(e,t,m){t.toggle(m),this.itemsMenu=[{label:"Detalle",icon:"pi pi-eye",command:()=>{this.router.navigate([`/${I.Elaboracion}/${I.Detail}/`,e.id])}},{label:"Eliminar",icon:"pi pi-trash",command:()=>{this.delete(e)}}]}delete(e){this.confirmationDialogService.confirmDelete("\xBFEst\xE1 seguro que desea eliminar la elaboraci\xF3n?",()=>{this.elaboracionService.delete(e.id).subscribe(()=>{this.toastr.success("Se ha eliminado la elaboracion"),this.fetchAll()})})}openSelectorReceta(){this.ref=this.dialogService.open(Ot,{header:"Agregar elaboracion",width:"50vw",breakpoints:{"960px":"75vw","640px":"90vw"},closable:!1,contentStyle:{overflow:"visible"}}),this.ref.onClose.subscribe(e=>{})}getEstadoSeverity(e){switch(e){case C.ENTREGADO_COMPLETO:return"success";case C.ENTREGADO_PARCIAL:return"primary";case C.EN_DEPOSITO:return"warning";case C.EN_PROCESO:return"info"}return""}};r.\u0275fac=function(t){return new(t||r)(u(M),u(Z),u(V),u(pe),u(re),u(b))},r.\u0275cmp=w({type:r,selectors:[["elaboraciones-query"]],features:[D([M,ze,He,b])],decls:8,vars:11,consts:[["dt",""],["menu",""],[1,"card"],[3,"value","tableStyle","paginator","rows","rowsPerPageOptions","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[1,"mb-4"],[1,"flex","align-items-center","justify-content-between","flex-wrap"],[1,"flex","gap-4","flex-wrap"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["pRipple","","severity","primary","label","Agregar Elaboraci\xF3n","icon","pi pi-plus",1,"mr-2",3,"click"],["pSortableColumn","fecha"],["field","fecha"],["pSortableColumn","codigo"],["field","codigo"],["pSortableColumn","receta"],["field","receta"],["pSortableColumn","cantidad"],["field","cantidad"],["pSortableColumn","autor.username"],["field","autor.username"],["pSortableColumn","estado.estado"],["field","estado.estado"],["pSortableColumn","estado.fecha"],["field","estado.fecha"],["pButton","","pRipple","","type","button","icon","pi pi-bars",1,"p-button-rounded","p-button-text",3,"click"],["appendTo","body",3,"popup","model"],[3,"value","severity"],[1,"text-center","py-4"],[1,"flex","align-items-center","justify-content-between"]],template:function(t,m){t&1&&(n(0,"div",2)(1,"p-table",3,0),v(3,Vi,8,0,"ng-template",4)(4,Oi,24,0,"ng-template",5)(5,Gi,23,14,"ng-template",6)(6,Li,3,1,"ng-template",7)(7,Bi,2,1,"ng-template",8),a()()),t&2&&(s(),c("value",m.elaboraciones)("tableStyle",h(7,Gt))("paginator",!0)("rows",5)("tableStyle",h(8,Gt))("rowsPerPageOptions",h(9,ji))("globalFilterFields",h(10,Ai)))},dependencies:[Ie,B,Ee,ye,We,F,nt,W,z,xe],encapsulation:2});let i=r;return i})();var $i=[{path:"",redirectTo:"query",pathMatch:"full"},{path:"detail/:id",component:kt,title:"Detalle de Elaboracion"},{path:"query",component:Lt,title:"Listado de Elaboraciones"},{path:`${I.New}/:id`,component:Vt,title:"Nueva Elaboracion"}],Fa=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=qe({type:r}),r.\u0275inj=$e({imports:[Ze,it.forChild($i),bt,Je,at,Ct,It,st,St,dt,mt,ct,yt,Et,xt,_t,et,tt,lt,Ft,Dt,Tt,ht,pt,ft,vt]});let i=r;return i})();export{Fa as ElaboracionesModule};
