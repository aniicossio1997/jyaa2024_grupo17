import{a as We,b as Ke,c as Je,d as Ze,e as et,g as tt}from"./chunk-MPCCGEP2.js";import{b as Te,c as Me,d as De}from"./chunk-OGQRLL7Z.js";import{a as ke}from"./chunk-4HOYINZ7.js";import{a as te,b as v}from"./chunk-UZR5UCXT.js";import{b as Ge}from"./chunk-676UXHSL.js";import{B as Ye,j as Le,m as $e,n as X,o as Y,p as Z,q as Oe,r as ee,s as qe,t as ze,u as He,w as Ue,z as Xe}from"./chunk-N32QBCDO.js";import{a as Re,b as Pe,e as U,f as J,g as Ne,i as je,k as Be,l as Ae}from"./chunk-MOHWG4PF.js";import{$ as d,E as I,F as Ce,G as Ee,H as V,I as Fe,K as G,L,N as $,O,T as q,U as z,W as H,Y as P,Z as Ie,_ as re,ca as W,ea as w,fa as K,ha as Ve,ja as we,m as A,pa as M,q as Se,qa as Qe,v as Q}from"./chunk-VXQCQYAP.js";import{$ as x,$b as oe,Db as de,Eb as fe,Fb as ve,Gb as E,Hb as l,Ib as h,Jb as N,Lc as he,Mb as be,Nb as ge,Oa as m,Ob as _e,Pa as u,Pb as F,Rb as T,Rc as ye,S as se,Sb as B,Uc as xe,_b as ne,aa as ue,eb as R,fb as j,gb as s,ia as S,ja as C,pb as e,qb as t,rb as f,vb as D,xb as b,yb as g}from"./chunk-MPDHWXUF.js";var ct=["dt"],st=()=>["nombre"],ut=()=>({"min-width":"auto"}),dt=i=>[i];function ft(i,n){if(i&1){let p=D();e(0,"h2",12),l(1,"Puntos de Venta"),t(),e(2,"div",13)(3,"span",14),f(4,"i",15),e(5,"input",16),b("input",function(o){S(p),g();let a=E(2);return C(a.filterGlobal(o.target.value,"contains"))}),t()(),f(6,"p-button",17),t()}if(i&2){let p=g();m(6),s("routerLink",B(1,dt,"/"+p.RoutestEnum.PuntoVenta+"/"+p.RoutestEnum.New))}}function vt(i,n){i&1&&(e(0,"tr")(1,"th",18),l(2,"Acciones"),t(),e(3,"th",19),l(4,"Nombre "),f(5,"p-sortIcon",20),t(),e(6,"th",21),l(7," Descripci\xF3n "),f(8,"p-sortIcon",22),t()())}function bt(i,n){if(i&1){let p=D();e(0,"tr")(1,"td")(2,"button",23),b("click",function(o){let a=S(p).$implicit,c=E(4),_=g();return C(_.generateMenu(a,c,o))}),t(),f(3,"p-menu",24,2),t(),e(5,"td"),l(6),t(),e(7,"td"),l(8),t()()}if(i&2){let p=n.$implicit,r=g();m(3),s("popup",!0)("model",r.itemsMenu),m(3),N(" ",p.nombre," "),m(2),N(" ",(p==null?null:p.descripcion)!=""?p==null?null:p.descripcion:"-"," ")}}function gt(i,n){if(i&1&&(e(0,"div",25),l(1),t()),i&2){let p=g(),r=E(2);m(),N(" En total hay ",r.filteredValue?r.filteredValue.length:p.puntosVenta.length," registros. ")}}function _t(i,n){i&1&&(e(0,"tr")(1,"td",26),l(2," No se encontraron registros "),t()()),i&2&&(m(),j("colspan",5))}function ht(i,n){if(i&1){let p=D();e(0,"div",27)(1,"span",28),l(2),t(),e(3,"p",29),l(4),t(),e(5,"div",30)(6,"button",31),b("click",function(){S(p),g();let o=E(9);return C(o.reject())}),t(),e(7,"button",32),b("click",function(){S(p),g();let o=E(9);return C(o.accept())}),t()()()}if(i&2){let p=n.$implicit;m(2),N(" ",p.header," "),m(2),h(p.message)}}var it=(()=>{let n=class n{get RoutestEnum(){return d}constructor(r,o,a){this.puntoVentaService=r,this.confirmationService=o,this.router=a,this.itemsMenu=[],this.puntosVenta=[],this.productDialog=!1}ngOnInit(){this.fetchAll()}fetchAll(){this.puntoVentaService.get().subscribe(r=>{this.puntosVenta=r})}generateMenu(r,o,a){o.toggle(a),this.itemsMenu=[{label:"Detalle",icon:"pi pi-eye",command:()=>{this.router.navigate([`/${d.PuntoVenta}/${d.Detail}/`,r.id])}},{label:"Editar",icon:"pi pi-pencil",command:()=>{this.router.navigate([`/${d.PuntoVenta}/${d.Edit}/`,r.id])}},{label:"Eliminar",icon:"pi pi-trash",command:()=>{this.delete(r)}}]}delete(r){this.confirmationService.confirm({message:"\xBFEsta seguro de eliminar  el punto de venta "+r.nombre+"?",header:"Confirmar la Eliminaci\xF3n",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",key:"positionDialog",acceptButtonStyleClass:"p-button-danger p-button-text ",rejectButtonStyleClass:"p-button-secondary p-button-text",accept:()=>{this.puntoVentaService.delete(r.id).subscribe(o=>{this.fetchAll()})},reject:()=>{}})}};n.\u0275fac=function(o){return new(o||n)(u(v),u(A),u(w))},n.\u0275cmp=x({type:n,selectors:[["app-query"]],viewQuery:function(o,a){if(o&1&&de(ct,5),o&2){let c;fe(c=ve())&&(a.dt=c.first)}},features:[F([v,Se,A])],decls:11,vars:9,consts:[["dt",""],["cd",""],["menu",""],[1,"card"],["dataKey","id",3,"selectionChange","value","rows","paginator","globalFilterFields","tableStyle","selection","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["key","positionDialog","position","center"],["pTemplate","headless"],[1,"mb-4"],[1,"flex","align-items-center","justify-content-between","flex-wrap"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["pRipple","","severity","primary","label","Agregar Punto de Venta","icon","pi pi-plus",1,"mr-2",3,"routerLink"],[2,"width","4rem"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","descripcion"],["field","descripcion"],["pButton","","pRipple","","type","button","icon","pi pi-bars",1,"p-button-rounded","p-button-text",3,"click"],["appendTo","body",3,"popup","model"],[1,"flex","align-items-center","justify-content-between"],[1,"text-center","py-4"],[1,"flex","flex-column","p-5","surface-overlay","border-round"],[1,"font-bold","text-2xl","block","mb-2","mt-4"],[1,"mb-0"],[1,"flex","justify-content-between","flex-wrap","mt-4"],["pButton","","label","No",1,"p-button-outlined","p-button-secondary","w-5rem",3,"click"],["pButton","","label","Si",1,"w-5rem","p-button-danger",3,"click"]],template:function(o,a){if(o&1){let c=D();e(0,"div",3)(1,"p-table",4,0),_e("selectionChange",function(y){return S(c),ge(a.selectedProducts,y)||(a.selectedProducts=y),C(y)}),R(3,ft,7,3,"ng-template",5)(4,vt,9,0,"ng-template",6)(5,bt,9,4,"ng-template",7)(6,gt,2,1,"ng-template",8)(7,_t,3,1,"ng-template",9),t(),e(8,"p-confirmDialog",10,1),R(10,ht,8,2,"ng-template",11),t()()}o&2&&(m(),s("value",a.puntosVenta)("rows",5)("paginator",!0)("globalFilterFields",T(7,st))("tableStyle",T(8,ut)),be("selection",a.selectedProducts),s("rowHover",!0))},dependencies:[K,Ee,V,Q,M,Be,X,Y,Z,I,Re],encapsulation:2});let i=n;return i})();var ot=(()=>{let n=class n{constructor(r,o,a,c){this.fb=r,this.router=o,this.puntoVentaService=a,this.toastr=c,this.myForm=this.fb.group({nombre:["",L.required],descripcion:[""]})}ngOnInit(){}cancel(){this.router.navigate(["/"+d.PuntoVenta])}save(){if(this.myForm.valid){let r={nombre:this.myForm.get("nombre").value,descripcion:this.myForm.get("descripcion").value};this.puntoVentaService.post(r).subscribe(o=>{o&&this.cancel()})}}};n.\u0275fac=function(o){return new(o||n)(u(P),u(w),u(v),u(we))},n.\u0275cmp=x({type:n,selectors:[["app-new"]],features:[F([v])],decls:20,vars:7,consts:[[1,"card"],[1,"mb-5","m-2"],[1,"p-fluid","p-formgrid","grid",3,"formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","nombre"],[1,"text-danger"],["pInputText","","id","nombre","type","text","formControlName","nombre","placeholder","Nombre","appCustomInputError","",3,"valueForm","errors"],["customLabel","",3,"valueForm","errors"],["htmlFor","descripcionid"],["formControlName","descripcion","rows","5","cols","30","pInputTextarea","","placeholder","Descripci\xF3n",3,"autoResize"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"click"],["pRipple","","label","Guardar","icon","pi pi-check",3,"click","disabled"]],template:function(o,a){if(o&1&&(e(0,"div",0)(1,"h5",1),l(2,"Agregar Punto de Venta"),t(),e(3,"form",2)(4,"div",3)(5,"label",4),l(6,"Nombre "),e(7,"span",5),l(8,"*"),t()(),f(9,"input",6)(10,"span",7),t(),e(11,"div",3)(12,"label",8),l(13,"Descripci\xF3n"),t(),e(14,"textarea",9),l(15,"      "),t()(),e(16,"div",10)(17,"div",11)(18,"p-button",12),b("click",function(){return a.cancel()}),t(),e(19,"p-button",13),b("click",function(){return a.save()}),t()()()()()),o&2){let c,_,y,k;m(3),s("formGroup",a.myForm),m(6),s("valueForm",(c=a.myForm.get("nombre"))==null?null:c.value)("errors",(_=a.myForm.get("nombre"))==null?null:_.errors),m(),s("valueForm",(y=a.myForm.get("nombre"))==null?null:y.value)("errors",(k=a.myForm.get("nombre"))==null?null:k.errors),m(4),s("autoResize",!0),m(5),s("disabled",a.myForm.invalid)}},dependencies:[V,M,ee,q,G,$,O,z,H,I,U,J],encapsulation:2});let i=n;return i})();var rt=(()=>{let n=class n{constructor(r,o,a,c){this.activateRouter=r,this.puntoVentaService=o,this.router=a,this.fb=c,this.myForm=this.fb.group({nombre:["",L.required],descripcion:[""]})}ngOnInit(){this.id=Number(this.activateRouter.snapshot.paramMap.get("id")),this.id&&this.puntoVentaService.getById(this.id).subscribe(r=>{this.myForm.get("nombre").setValue(r.nombre),this.myForm.get("descripcion").setValue(r.descripcion),this.myForm.get("nombre").markAsTouched(),this.myForm.get("descripcion").markAsTouched(),this.myForm.updateValueAndValidity()})}cancel(){this.router.navigate(["/"+d.PuntoVenta])}save(){if(this.myForm.valid){let r={nombre:this.myForm.get("nombre").value,descripcion:this.myForm.get("descripcion").value};this.puntoVentaService.update(this.id,r).subscribe(o=>{o&&this.cancel()})}}get formNombre(){return this.myForm.get("nombre").valueChanges.pipe()}};n.\u0275fac=function(o){return new(o||n)(u(W),u(v),u(w),u(P))},n.\u0275cmp=x({type:n,selectors:[["app-edit-puntoventa"]],features:[F([v])],decls:20,vars:7,consts:[[1,"card"],[1,"mb-5","m-2"],[1,"p-fluid","p-formgrid","grid",3,"formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","nombre"],[1,"text-danger"],["pInputText","","id","nombre","type","text","formControlName","nombre","placeholder","Nombre","appCustomInputError","",3,"valueForm","errors"],["customLabel","",3,"valueForm","errors"],["htmlFor","descripcionid"],["formControlName","descripcion","rows","5","cols","30","placeholder","Descripci\xF3n","pInputTextarea","",3,"autoResize"],[1,"field","col-12"],[1,"flex","justify-content-between","flex-wrap"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","secondary",3,"click"],["pRipple","","label","Guardar","icon","pi pi-check",3,"click","disabled"]],template:function(o,a){if(o&1&&(e(0,"div",0)(1,"h5",1),l(2,"Editar punto de venta"),t(),e(3,"form",2)(4,"div",3)(5,"label",4),l(6,"Nombre "),e(7,"span",5),l(8,"*"),t()(),f(9,"input",6)(10,"span",7),t(),e(11,"div",3)(12,"label",8),l(13,"Descripci\xF3n"),t(),e(14,"textarea",9),l(15,"      "),t()(),e(16,"div",10)(17,"div",11)(18,"p-button",12),b("click",function(){return a.cancel()}),t(),e(19,"p-button",13),b("click",function(){return a.save()}),t()()()()()),o&2){let c,_,y,k;m(3),s("formGroup",a.myForm),m(6),s("valueForm",(c=a.myForm.get("nombre"))==null?null:c.value)("errors",(_=a.myForm.get("nombre"))==null?null:_.errors),m(),s("valueForm",(y=a.myForm.get("nombre"))==null?null:y.value)("errors",(k=a.myForm.get("nombre"))==null?null:k.errors),m(4),s("autoResize",!0),m(5),s("disabled",a.myForm.invalid)}},dependencies:[V,M,ee,q,G,$,O,z,H,I,U,J],encapsulation:2});let i=n;return i})();var Ct=i=>[i],at=()=>({"min-width":"50rem"}),Et=()=>[5,10,20],Ft=()=>["cantidad","autor.username","fecha","elaboracion.receta","elaboracion.codigo","punto"];function Tt(i,n){if(i&1){let p=D();e(0,"h5"),l(1,"Entregas"),t(),e(2,"div",15)(3,"span",16),f(4,"i",17),e(5,"input",18),b("input",function(o){S(p),g();let a=E(11);return C(a.filterGlobal(o.target.value,"contains"))}),t()()()}}function It(i,n){i&1&&(e(0,"tr")(1,"th",19),l(2," Receta "),f(3,"p-sortIcon",20),t(),e(4,"th",21),l(5," C\xF3digo de Elaboraci\xF3n "),f(6,"p-sortIcon",22),t(),e(7,"th",23),l(8," Cantidad "),f(9,"p-sortIcon",24),t(),e(10,"th",25),l(11," Autor "),f(12,"p-sortIcon",26),t(),e(13,"th",27),l(14,"Fecha "),f(15,"p-sortIcon",28),t()())}function Vt(i,n){if(i&1&&(e(0,"tr")(1,"td")(2,"b"),l(3),t()(),e(4,"td")(5,"b"),l(6),t()(),e(7,"td"),l(8),t(),e(9,"td")(10,"b"),l(11),t()(),e(12,"td"),l(13),ne(14,"dateTransformPipe"),t()()),i&2){let p=n.$implicit;m(3),h(p.elaboracion.receta),m(3),h(p.elaboracion.codigo),m(2),h(p.cantidad),m(3),h(p.autor.username),m(2),h(oe(14,5,p.fecha))}}function wt(i,n){i&1&&(e(0,"tr")(1,"td",29),l(2," A\xFAn no se han registrado entregas resultados "),t()()),i&2&&(m(),j("colspan",6))}function Mt(i,n){if(i&1&&(e(0,"div",3)(1,"div",4)(2,"h1",5),l(3),ne(4,"titlecase"),t()(),e(5,"span",6),f(6,"p-button",7),t(),e(7,"p",8),l(8),t(),e(9,"div",9)(10,"p-table",10,0),R(12,Tt,6,0,"ng-template",11)(13,It,16,0,"ng-template",12)(14,Vt,15,7,"ng-template",13)(15,wt,3,1,"ng-template",14),t()()()),i&2){let p=g();m(3),h(oe(4,12,p.puntoVenta.nombre)),m(3),s("text",!0)("routerLink",B(14,Ct,p.Routes.EDIT)),m(2),h(p.puntoVenta.descripcion),m(2),s("value",p.entregas)("tableStyle",T(16,at))("paginator",!0)("rows",5)("tableStyle",T(17,at))("alwaysShowPaginator",!1)("rowsPerPageOptions",T(18,Et))("globalFilterFields",T(19,Ft))}}var lt=(()=>{let n=class n{constructor(r,o,a,c,_){this.activateRouter=r,this.puntoVentaService=o,this.entregaElaboracionService=a,this.router=c,this.fb=_,this.entregas=[]}ngOnInit(){this.id=Number(this.activateRouter.snapshot.paramMap.get("id")),this.id&&(this.puntoVentaService.getById(this.id).subscribe(r=>{this.puntoVenta=r}),this.entregaElaboracionService.getAll({puntoVentaId:this.id}).subscribe(r=>{this.entregas=r}))}get Routes(){return{EDIT:`/${d.PuntoVenta}/${d.Edit}/${this.puntoVenta?.id}`}}cancel(){this.router.navigate(["/"+d.PuntoVenta])}};n.\u0275fac=function(o){return new(o||n)(u(W),u(v),u(te),u(w),u(P))},n.\u0275cmp=x({type:n,selectors:[["app-detail-puntoventa"]],features:[F([v,te])],decls:2,vars:1,consts:[["dt",""],["pRipple","","label","Volver","icon","pi pi-arrow-left","styleClass","mb-2","severity","secondary",3,"click"],["class","card relative",4,"ngIf"],[1,"card","relative"],[1,"font-bold","mt-2"],[1,"p-card-title"],[1,"absolute",2,"top","5px","right","5px"],["pRipple","","severity","primary","label","Editar","icon","pi pi-pencil",1,"mr-2",3,"text","routerLink"],[1,"text-lg"],[1,"mt-5","bg-item","border-round"],[3,"value","tableStyle","paginator","rows","alwaysShowPaginator","rowsPerPageOptions","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex","align-items-center","justify-content-between"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",3,"input"],["pSortableColumn","elaboracion.receta"],["field","elaboracion.receta"],["pSortableColumn","elaboracion.codigo"],["field","elaboracion.codigo	"],["pSortableColumn","cantidad"],["field","cantidad"],["pSortableColumn","autor.username"],["field","autor.username"],["pSortableColumn","fecha"],["field","fecha"],[1,"text-center","py-4"]],template:function(o,a){o&1&&(e(0,"p-button",1),b("click",function(){return a.cancel()}),t(),R(1,Mt,16,20,"div",2)),o&2&&(m(),s("ngIf",a.puntoVenta))},dependencies:[he,K,V,Q,M,X,Y,Z,I,ye,Ne],encapsulation:2});let i=n;return i})();var Dt=[{path:"",redirectTo:"query",pathMatch:"full"},{path:`${d.Edit}/:id`,component:rt,title:"Editar Punto de Venta"},{path:d.Query,component:it,title:"Listado de Puntos de Venta"},{path:d.New,component:ot,title:"Agregar Puntos de Venta"},{path:`${d.Detail}/:id`,component:lt,title:"Detalle de Punto de Venta"}],ki=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=se({imports:[xe,Ve.forChild(Dt),Fe,Te,Qe,qe,Ae,ze,He,We,Ke,Oe,De,Ie,re,Ue,ke,Le,Je,Xe,Ye,Ze,Ge,$e,et,Ce,Me,tt,Pe,re,je]});let i=n;return i})();export{ki as PuntoVentaModule};
